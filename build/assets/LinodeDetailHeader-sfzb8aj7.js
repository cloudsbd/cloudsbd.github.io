import{j as e,ad as J,T as R,e as K,h as X,O as Z,c as ee,dh as oe,q as te,f5 as re,bn as ie,r as s,u as se,C as ae,E as ne,fW as pe,an as le}from"./index-cVx9Zqte.js";import{L as me}from"./LandingHeader--0FiA91-.js";import{P as ce}from"./ProductInformationBanner-F-a7gVWs.js";import{L as de,D as ue,b as ge,c as De,R as be,M as fe,T as he}from"./DeleteLinodeDialog-U6jeVfhE.js";import{P as Le}from"./utils-8fGx1pTO.js";import{u as xe}from"./useEditableLabelState-sViKJWQc.js";import{s as Oe}from"./scrollErrorIntoView-6n4Cku1Y.js";import{E as we}from"./EnableBackupsDialog-okbD-wmg.js";import{M as je,N as ye}from"./Notifications-wzV784zW.js";import"./LinodeActionMenu-9Oio_i3b.js";import"./immer.esm--MpJ8fpr.js";import"./groupBy-0b_eFpMI.js";import"./PlansPanel-1fa_pWJg.js";import"./TabbedPanel-7MRGLWE6.js";import"./TabList-Vcpmm6u6.js";import"./PlanInformation-hdt1MDMd.js";import"./TextTooltip-h4BIBq-b.js";import"./ListItem-HwDJ8kDZ.js";import"./TableRow-WjckZ-OR.js";import"./TableRowEmpty-HXunljlo.js";import"./constants-KokzTiEs.js";import"./Currency-UAWCzS7H.js";import"./Radio-9QvviwDe.js";import"./SelectionCard-z2Lwslro.js";import"./dynamicPricing-n5eCZqTg.js";import"./linodes-orSDvVk7.js";import"./TableHead-aAnFvqns.js";import"./arePropsEqual-WL8SjyyC.js";import"./getSelectedOptionFromGroupedOptions-3OaG4wtm.js";import"./RenderGuard-G_iNJx_w.js";import"./image.helpers-Yu4Zv1TD.js";import"./CommonStackScript.styles-G8qJvONR.js";import"./index-m2Nl9sJq.js";import"./TableSortCell-N7Qxf5YK.js";import"./DebouncedSearchTextField-fJN9axDi.js";import"./ResourcesSection-Ho8bmvI2.js";import"./StackScript-i54gdxpR.js";import"./CopyTooltip-nIZAIwkd.js";import"./index-nat4f1EQ.js";import"./DateTimeDisplay-Ll7y9Gvy.js";import"./ShowMoreExpansion-g4pF4U0E.js";import"./Autocomplete-vchTD_Ph.js";import"./AccessPanel-c_TKWhs7.js";import"./TableRowError-VT_K71YW.js";import"./CreateSSHKeyDrawer-Lk8yKKuD.js";import"./formik.esm-XrBweJub.js";import"./Code-EQsYwaVK.js";import"./Drawer-Zv-UzsLT.js";import"./formikTrimUtil-tfsUpEEv.js";import"./getAPIErrorFor-tzBGcA7R.js";import"./usePagination-oVzoT3VV.js";import"./PaginationFooter-8MfyrbrN.js";import"./TableRowLoading-enpzcj9B.js";import"./Skeleton-Ei33_jCb.js";import"./ActionMenu-LQcZWhDC.js";import"./lishUtils-9MoIA_uJ.js";import"./linodes--kIa80QO.js";import"./disks-JZFpnfFj.js";import"./RegionSelect-bPwNTvP1.js";import"./Flag-3tAA4S-o.js";import"./visuallyHidden-DVicuktI.js";import"./LinodeDisks-zyiLqtd_.js";import"./AddNewLink-EuioEAZT.js";import"./OrderBy-9siuTGWJ.js";import"./splitAt-OlbwoBj3.js";import"./Paginate-_mtRUOjJ.js";import"./RadioGroup-2qEaOjEa.js";import"./formikErrorUtils-k3dWKVdg.js";import"./ImageSelect-2dUquSHq.js";import"./cond-OExnIwqZ.js";import"./LinodePermissionsError-pDRXYuC4.js";import"./InlineMenuAction-1MvHCfFL.js";import"./backups-brLSog0e.js";import"./DisplayPrice-m9AmNFV_.js";import"./TypeToConfirm-c9PkDm3L.js";import"./validatePassword-xpiSI_1K.js";import"./main-d_A-GefV.js";import"./assocPath-K5W2bQH9.js";import"./firewalls-Dn__vdrP.js";import"./DeviceSelection-0MgasqMa.js";import"./FormControl-r0VmXCL0.js";import"./TagsPanel-k3d7_0ry.js";import"./tags-i_yRfMC6.js";import"./PublicIpsUnassignedTooltip-Pn8zzLr7.js";import"./LinodeIPAddresses-KQ8t9CAA.js";import"./configs-neuBJQ0E.js";import"./vpcs-2oJlMVgq.js";import"./ipaddr-2fi-A9R9.js";import"./remove-2JFCky0p.js";import"./uniq-ZuGeDKAp.js";import"./_contains-cAWwaXdv.js";import"./_isFunction-X3ooR5X_.js";import"./over-DG6TlI65.js";import"./set-KzCOjdyF.js";import"./view-z9rjEf5W.js";import"./StatusIcon-d7wUM4gj.js";import"./recentEventForLinode-2kjhD36D.js";import"./IPAddress-4_lmPo4A.js";import"./ShowMore-N_Z6fJvT.js";import"./ipUtils-8Z2b8Iiq.js";import"./RegionIndicator-9Iv07GLg.js";import"./constants-jI3mcPVd.js";import"./TypeToConfirmDialog-OLeT3MiC.js";import"./MaintenanceBanner-657Gb0vp.js";import"./accountMaintenance-JIiGpdl-.js";import"./isPast-Rtw250ny.js";import"./useDialog-8AOoxx2F.js";const Ee=m=>{const{linodeStatus:t}=m;return t!=="stopped"?null:e.jsxs(J,{important:!0,variant:"warning",children:[e.jsx(R,{style:{paddingBottom:"8px"},variant:"h3",children:e.jsx("strong",{children:"An issue affecting the physical host this Linode resides on has been detected."})}),e.jsx(R,{variant:"body1",children:"We are working to resolve the issue as quickly as possible and will update you as soon as we have more information. Your Linode will return to its previous state once the issue is resolved. Thank you for your patience and understanding."})]})},Mt=()=>{var y,E;const m=K(),t=X(m.search),c=Z({path:"/linodes/:linodeId/:subpath?"}),i=Number(((y=c==null?void 0:c.params)==null?void 0:y.linodeId)??0),{data:o,error:p,isLoading:C}=ee(i),{mutateAsync:g}=oe(i),P=te(),{account:d}=re(),S=ie("VPCs",!!P.vpc,(d==null?void 0:d.capabilities)??[]),[I,T]=s.useState("Reboot"),[M,D]=s.useState(!1),[v,b]=s.useState(t.delete==="true"),[k,f]=s.useState(t.rebuild==="true"),[A,h]=s.useState(t.rescue==="true"),[z,L]=s.useState(t.resize==="true"),[B,x]=s.useState(t.migrate==="true"),[F,H]=s.useState(!1),[O,u]=s.useState({open:!1,tags:[]}),w=se(),a=()=>{(t.resize||t.rescue||t.rebuild||t.migrate||t.upgrade)&&w.replace({search:void 0}),D(!1),b(!1),L(!1),x(!1),h(!1),f(!1),H(!1)},N=()=>{u(r=>({...r,open:!1}))},q=r=>{u({open:!0,tags:r})},Q=r=>g({tags:r}).then(l=>{u(n=>({...n,tags:r}))}),{editableLabelError:U,resetEditableLabel:j,setEditableLabelError:V}=xe(),W=async r=>{try{await g({label:r})}catch(l){const _=le(l,"An error occurred while updating label","label").map($=>$.reason);throw new Error(_[0])}},G=r=>W(r).then(()=>{j()}).catch(l=>{const n=[l.message];return V(n[0]),Oe(),Promise.reject(n[0])}),Y={onOpenDeleteDialog:()=>{b(!0)},onOpenMigrateDialog:()=>{x(!0)},onOpenPowerDialog:r=>{D(!0),T(r)},onOpenRebuildDialog:()=>{f(!0)},onOpenRescueDialog:()=>{h(!0)},onOpenResizeDialog:()=>{L(!0)}};return C?e.jsx(ae,{}):p?e.jsx(ne,{errorText:(E=p==null?void 0:p[0])==null?void 0:E.reason}):o?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{linodeStatus:(o==null?void 0:o.status)??"running"}),e.jsx(je,{linodeId:i}),e.jsx(ye,{}),e.jsx(ce,{bannerLocation:"Linodes"}),e.jsx(me,{breadcrumbProps:{onEditHandlers:{editableTextTitle:(o==null?void 0:o.label)??"",errorText:U,onCancel:j,onEdit:G},pathname:`/linodes/${o==null?void 0:o.label}`},onDocsClick:()=>{pe("Getting Started")},docsLabel:"Docs",docsLink:"https://www.linode.com/docs/guides/platform/get-started/",title:"Create"}),e.jsx(de,{handlers:Y,id:i,linode:o,openTagDrawer:q}),e.jsx(Le,{action:I??"Reboot",isOpen:M,linodeId:i,manuallyUpdateConfigs:S,onClose:a}),e.jsx(ue,{linodeId:i,onClose:a,onSuccess:()=>w.replace("/linodes"),open:v}),e.jsx(ge,{linodeId:i,onClose:a,open:z}),e.jsx(De,{linodeId:i,onClose:a,open:k}),e.jsx(be,{linodeId:i,onClose:a,open:A}),e.jsx(fe,{linodeId:i,onClose:a,open:B}),e.jsx(he,{entityID:o==null?void 0:o.id,entityLabel:(o==null?void 0:o.label)??"",onClose:N,open:O.open,tags:O.tags,updateTags:Q}),e.jsx(we,{linodeId:i,onClose:a,open:F})]}):null};export{Mt as default};
