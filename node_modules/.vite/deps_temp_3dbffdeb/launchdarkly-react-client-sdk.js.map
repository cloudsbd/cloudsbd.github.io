{
  "version": 3,
  "sources": ["../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/types.ts", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/context.ts", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/errors.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/base64-js/index.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/fast-deep-equal/index.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/utils.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/rng.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/regex.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/validate.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/stringify.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/v1.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/parse.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/v35.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/md5.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/v3.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/sha1.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/v5.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/v4.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/nil.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/uuid/dist/esm-browser/version.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/loggers.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/messages.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/configuration.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/headers.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/EventSender.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/context.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/EventSummarizer.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/attributeReference.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/ContextFilter.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/EventProcessor.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/EventEmitter.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/InitializationState.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/PersistentFlagStore.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/PersistentStorage.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/Stream.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/promiseCoalescer.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/Requestor.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/Identity.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/AnonymousContextProcessor.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/diagnosticEvents.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/SafeInspector.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/InspectorManager.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/launchdarkly-js-sdk-common/src/index.js", "../../../../../node_modules/launchdarkly-js-client-sdk/src/basicLogger.js", "../../../../../node_modules/launchdarkly-js-client-sdk/src/httpRequest.js", "../../../../../node_modules/launchdarkly-js-client-sdk/node_modules/escape-string-regexp/index.js", "../../../../../node_modules/launchdarkly-js-client-sdk/src/GoalTracker.js", "../../../../../node_modules/launchdarkly-js-client-sdk/src/GoalManager.js", "../../../../../node_modules/launchdarkly-js-client-sdk/src/index.js", "../../../../../node_modules/launchdarkly-js-client-sdk/src/browserPlatform.js", "../../../../../node_modules/lodash.camelcase/index.js", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/utils.ts", "../../../../../node_modules/launchdarkly-react-client-sdk/package.json", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/initLDClient.ts", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/getFlagsProxy.ts", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/provider.tsx", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/withLDProvider.tsx", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/asyncWithLDProvider.tsx", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/withLDConsumer.tsx", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/useFlags.ts", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/useLDClient.ts", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/useLDClientError.tsx", "../../../../../node_modules/launchdarkly-react-client-sdk/lib/src/index.ts"],
  "sourcesContent": [null, null, "function createCustomError(name) {\n  function CustomError(message, code) {\n    Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);\n    this.message = message;\n    this.code = code;\n  }\n\n  CustomError.prototype = new Error();\n  CustomError.prototype.name = name;\n  CustomError.prototype.constructor = CustomError;\n\n  return CustomError;\n}\n\nconst LDUnexpectedResponseError = createCustomError('LaunchDarklyUnexpectedResponseError');\nconst LDInvalidEnvironmentIdError = createCustomError('LaunchDarklyInvalidEnvironmentIdError');\nconst LDInvalidUserError = createCustomError('LaunchDarklyInvalidUserError');\nconst LDInvalidEventKeyError = createCustomError('LaunchDarklyInvalidEventKeyError');\nconst LDInvalidArgumentError = createCustomError('LaunchDarklyInvalidArgumentError');\nconst LDFlagFetchError = createCustomError('LaunchDarklyFlagFetchError');\nconst LDInvalidDataError = createCustomError('LaunchDarklyInvalidDataError');\n\nfunction isHttpErrorRecoverable(status) {\n  if (status >= 400 && status < 500) {\n    return status === 400 || status === 408 || status === 429;\n  }\n  return true;\n}\n\nmodule.exports = {\n  LDUnexpectedResponseError,\n  LDInvalidEnvironmentIdError,\n  LDInvalidUserError,\n  LDInvalidEventKeyError,\n  LDInvalidArgumentError,\n  LDInvalidDataError,\n  LDFlagFetchError,\n  isHttpErrorRecoverable,\n};\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n", "const base64 = require('base64-js');\nconst fastDeepEqual = require('fast-deep-equal');\n\nconst userAttrsToStringify = ['key', 'ip', 'country', 'email', 'firstName', 'lastName', 'avatar', 'name'];\n\nfunction appendUrlPath(baseUrl, path) {\n  // Ensure that URL concatenation is done correctly regardless of whether the\n  // base URL has a trailing slash or not.\n  const trimBaseUrl = baseUrl.endsWith('/') ? baseUrl.substring(0, baseUrl.length - 1) : baseUrl;\n  return trimBaseUrl + (path.startsWith('/') ? '' : '/') + path;\n}\n\n// See http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\nfunction btoa(s) {\n  const escaped = unescape(encodeURIComponent(s));\n  return base64.fromByteArray(stringToBytes(escaped));\n}\n\nfunction stringToBytes(s) {\n  const b = [];\n  for (let i = 0; i < s.length; i++) {\n    b.push(s.charCodeAt(i));\n  }\n  return b;\n}\n\nfunction base64URLEncode(s) {\n  return (\n    btoa(s)\n      // eslint-disable-next-line\n      .replace(/=/g, '')\n      .replace(/\\+/g, '-')\n      .replace(/\\//g, '_')\n  );\n}\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction deepEquals(a, b) {\n  return fastDeepEqual(a, b);\n}\n\n// Events emitted in LDClient's initialize method will happen before the consumer\n// can register a listener, so defer them to next tick.\nfunction onNextTick(cb) {\n  setTimeout(cb, 0);\n}\n\n/**\n * Wrap a promise to invoke an optional callback upon resolution or rejection.\n *\n * This function assumes the callback follows the Node.js callback type: (err, value) => void\n *\n * If a callback is provided:\n *   - if the promise is resolved, invoke the callback with (null, value)\n *   - if the promise is rejected, invoke the callback with (error, null)\n *\n * @param {Promise<any>} promise\n * @param {Function} callback\n * @returns Promise<any> | undefined\n */\nfunction wrapPromiseCallback(promise, callback) {\n  const ret = promise.then(\n    value => {\n      if (callback) {\n        setTimeout(() => {\n          callback(null, value);\n        }, 0);\n      }\n      return value;\n    },\n    error => {\n      if (callback) {\n        setTimeout(() => {\n          callback(error, null);\n        }, 0);\n      } else {\n        return Promise.reject(error);\n      }\n    }\n  );\n\n  return !callback ? ret : undefined;\n}\n\n/**\n * Takes a map of flag keys to values, and returns the more verbose structure used by the\n * client stream.\n */\nfunction transformValuesToVersionedValues(flags) {\n  const ret = {};\n  for (const key in flags) {\n    if (objectHasOwnProperty(flags, key)) {\n      ret[key] = { value: flags[key], version: 0 };\n    }\n  }\n  return ret;\n}\n\n/**\n * Converts the internal flag state map to a simple map of flag keys to values.\n */\nfunction transformVersionedValuesToValues(flagsState) {\n  const ret = {};\n  for (const key in flagsState) {\n    if (objectHasOwnProperty(flagsState, key)) {\n      ret[key] = flagsState[key].value;\n    }\n  }\n  return ret;\n}\n\n/**\n * Returns an array of event groups each of which can be safely URL-encoded\n * without hitting the safe maximum URL length of certain browsers.\n *\n * @param {number} maxLength maximum URL length targeted\n * @param {Array[Object}]} events queue of events to divide\n * @returns Array[Array[Object]]\n */\nfunction chunkEventsForUrl(maxLength, events) {\n  const allEvents = events.slice(0);\n  const allChunks = [];\n  let remainingSpace = maxLength;\n  let chunk;\n\n  while (allEvents.length > 0) {\n    chunk = [];\n\n    while (remainingSpace > 0) {\n      const event = allEvents.shift();\n      if (!event) {\n        break;\n      }\n      remainingSpace = remainingSpace - base64URLEncode(JSON.stringify(event)).length;\n      // If we are over the max size, put this one back on the queue\n      // to try in the next round, unless this event alone is larger\n      // than the limit, in which case, screw it, and try it anyway.\n      if (remainingSpace < 0 && chunk.length > 0) {\n        allEvents.unshift(event);\n      } else {\n        chunk.push(event);\n      }\n    }\n\n    remainingSpace = maxLength;\n    allChunks.push(chunk);\n  }\n\n  return allChunks;\n}\n\nfunction getLDUserAgentString(platform) {\n  const version = platform.version || '?';\n  return platform.userAgent + '/' + version;\n}\n\nfunction extend(...objects) {\n  return objects.reduce((acc, obj) => ({ ...acc, ...obj }), {});\n}\n\nfunction objectHasOwnProperty(object, name) {\n  return Object.prototype.hasOwnProperty.call(object, name);\n}\n\nfunction sanitizeContext(context) {\n  if (!context) {\n    return context;\n  }\n  let newContext;\n  // Only stringify user attributes for legacy users.\n  if (context.kind === null || context.kind === undefined) {\n    userAttrsToStringify.forEach(attr => {\n      const value = context[attr];\n      if (value !== undefined && typeof value !== 'string') {\n        newContext = newContext || { ...context };\n        newContext[attr] = String(value);\n      }\n    });\n  }\n\n  return newContext || context;\n}\n\nmodule.exports = {\n  appendUrlPath,\n  base64URLEncode,\n  btoa,\n  chunkEventsForUrl,\n  clone,\n  deepEquals,\n  extend,\n  getLDUserAgentString,\n  objectHasOwnProperty,\n  onNextTick,\n  sanitizeContext,\n  transformValuesToVersionedValues,\n  transformVersionedValuesToValues,\n  wrapPromiseCallback,\n};\n", "// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}", "export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;", "import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;", "import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;", "import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;", "import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;", "import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;", "import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;", "// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;", "import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;", "import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;", "export default '00000000-0000-0000-0000-000000000000';", "import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;", "const logLevels = ['debug', 'info', 'warn', 'error', 'none'];\n\n/**\n * A simple logger that writes to stderr.\n */\nfunction commonBasicLogger(options, formatFn) {\n  if (options && options.destination && typeof options.destination !== 'function') {\n    throw new Error('destination for basicLogger was set to a non-function');\n  }\n\n  function toConsole(methodName) {\n    // The global console variable is not guaranteed to be defined at all times in all browsers:\n    // https://www.beyondjava.net/console-log-surprises-with-internet-explorer-11-and-edge\n    return function(line) {\n      if (console && console[methodName]) {\n        console[methodName].call(console, line);\n      }\n    };\n  }\n  const destinations =\n    options && options.destination\n      ? [options.destination, options.destination, options.destination, options.destination]\n      : [toConsole('log'), toConsole('info'), toConsole('warn'), toConsole('error')];\n  const prependLevelToMessage = !!(options && options.destination); // if we're writing to console.warn, etc. we don't need the prefix\n  const prefix =\n    !options || options.prefix === undefined || options.prefix === null ? '[LaunchDarkly] ' : options.prefix;\n\n  let minLevel = 1; // default is 'info'\n  if (options && options.level) {\n    for (let i = 0; i < logLevels.length; i++) {\n      if (logLevels[i] === options.level) {\n        minLevel = i;\n      }\n    }\n  }\n\n  function write(levelIndex, levelName, args) {\n    if (args.length < 1) {\n      return;\n    }\n    let line;\n    const fullPrefix = prependLevelToMessage ? levelName + ': ' + prefix : prefix;\n    if (args.length === 1 || !formatFn) {\n      line = fullPrefix + args[0];\n    } else {\n      const tempArgs = [...args];\n      tempArgs[0] = fullPrefix + tempArgs[0];\n      line = formatFn(...tempArgs);\n    }\n    try {\n      destinations[levelIndex](line);\n    } catch (err) {\n      console &&\n        console.log &&\n        console.log(\"[LaunchDarkly] Configured logger's \" + levelName + ' method threw an exception: ' + err);\n    }\n  }\n\n  const logger = {};\n  for (let i = 0; i < logLevels.length; i++) {\n    const levelName = logLevels[i];\n    if (levelName !== 'none') {\n      if (i < minLevel) {\n        logger[levelName] = () => {};\n      } else {\n        const levelIndex = i;\n        logger[levelName] = function() {\n          // can't use arrow function with \"arguments\"\n          write(levelIndex, levelName, arguments);\n        };\n      }\n    }\n  }\n\n  return logger;\n}\n\nfunction validateLogger(logger) {\n  logLevels.forEach(level => {\n    if (level !== 'none' && (!logger[level] || typeof logger[level] !== 'function')) {\n      throw new Error('Provided logger instance must support logger.' + level + '(...) method');\n      // Note that the SDK normally does not throw exceptions to the application, but that rule\n      // does not apply to LDClient.init() which will throw an exception if the parameters are so\n      // invalid that we cannot proceed with creating the client. An invalid logger meets those\n      // criteria since the SDK calls the logger during nearly all of its operations.\n    }\n  });\n}\n\nmodule.exports = {\n  commonBasicLogger,\n  validateLogger,\n};\n", "const errors = require('./errors');\n\nfunction errorString(err) {\n  if (err && err.message) {\n    return err.message;\n  }\n  if (typeof err === 'string' || err instanceof String) {\n    return err;\n  }\n  return JSON.stringify(err);\n}\n\nconst clientInitialized = function() {\n  return 'LaunchDarkly client initialized';\n};\n\nconst docLink =\n  ' Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization.';\n\nconst clientNotReady = function() {\n  return 'LaunchDarkly client is not ready';\n};\n\nconst eventCapacityExceeded = function() {\n  return 'Exceeded event queue capacity. Increase capacity to avoid dropping events.';\n};\n\nconst eventWithoutContext = function() {\n  return 'Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript';\n};\n\nconst invalidContentType = function(contentType) {\n  return 'Expected application/json content type but got \"' + contentType + '\"';\n};\n\nconst invalidKey = function() {\n  return 'Event key must be a string';\n};\n\nconst localStorageUnavailable = function(err) {\n  return 'local storage is unavailable: ' + errorString(err);\n};\n\nconst networkError = e => 'network error' + (e ? ' (' + e + ')' : '');\n\n// We should remove unknownCustomEventKey in the future - see comments in track() in index.js\nconst unknownCustomEventKey = function(key) {\n  return 'Custom event \"' + key + '\" does not exist';\n};\n\nconst environmentNotFound = function() {\n  return 'Environment not found. Double check that you specified a valid environment/client-side ID.' + docLink;\n};\n\nconst environmentNotSpecified = function() {\n  return 'No environment/client-side ID was specified.' + docLink;\n};\n\nconst errorFetchingFlags = function(err) {\n  return 'Error fetching flag settings: ' + errorString(err);\n};\n\nconst contextNotSpecified = function() {\n  return 'No context specified.' + docLink;\n};\n\nconst invalidContext = function() {\n  return 'Invalid context specified.' + docLink;\n};\n\nconst invalidData = function() {\n  return 'Invalid data received from LaunchDarkly; connection may have been interrupted';\n};\n\nconst bootstrapOldFormat = function() {\n  return (\n    'LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. ' +\n    'Events may not be sent correctly.' +\n    docLink\n  );\n};\n\nconst bootstrapInvalid = function() {\n  return 'LaunchDarkly bootstrap data is not available because the back end could not read the flags.';\n};\n\nconst deprecated = function(oldName, newName) {\n  if (newName) {\n    return '\"' + oldName + '\" is deprecated, please use \"' + newName + '\"';\n  }\n  return '\"' + oldName + '\" is deprecated';\n};\n\nconst httpErrorMessage = function(status, context, retryMessage) {\n  return (\n    'Received error ' +\n    status +\n    (status === 401 ? ' (invalid SDK key)' : '') +\n    ' for ' +\n    context +\n    ' - ' +\n    (errors.isHttpErrorRecoverable(status) ? retryMessage : 'giving up permanently')\n  );\n};\n\nconst httpUnavailable = function() {\n  return 'Cannot make HTTP requests in this environment.' + docLink;\n};\n\nconst identifyDisabled = function() {\n  return 'identify() has no effect here; it must be called on the main client instance';\n};\n\nconst streamClosing = function() {\n  return 'Closing stream connection';\n};\n\nconst streamConnecting = function(url) {\n  return 'Opening stream connection to ' + url;\n};\n\nconst streamError = function(err, streamReconnectDelay) {\n  return (\n    'Error on stream connection: ' +\n    errorString(err) +\n    ', will continue retrying after ' +\n    streamReconnectDelay +\n    ' milliseconds.'\n  );\n};\n\nconst unknownOption = name => 'Ignoring unknown config option \"' + name + '\"';\n\nconst unrecoverableStreamError = err => `Error on stream connection ${errorString(err)}, giving up permanently`;\n\nconst wrongOptionType = (name, expectedType, actualType) =>\n  'Config option \"' + name + '\" should be of type ' + expectedType + ', got ' + actualType + ', using default value';\n\nconst wrongOptionTypeBoolean = (name, actualType) =>\n  'Config option \"' + name + '\" should be a boolean, got ' + actualType + ', converting to boolean';\n\nconst optionBelowMinimum = (name, value, minimum) =>\n  'Config option \"' + name + '\" was set to ' + value + ', changing to minimum value of ' + minimum;\n\nconst debugPolling = function(url) {\n  return 'polling for feature flags at ' + url;\n};\n\nconst debugStreamPing = function() {\n  return 'received ping message from stream';\n};\n\nconst debugStreamPut = function() {\n  return 'received streaming update for all flags';\n};\n\nconst debugStreamPatch = function(key) {\n  return 'received streaming update for flag \"' + key + '\"';\n};\n\nconst debugStreamPatchIgnored = function(key) {\n  return 'received streaming update for flag \"' + key + '\" but ignored due to version check';\n};\n\nconst debugStreamDelete = function(key) {\n  return 'received streaming deletion for flag \"' + key + '\"';\n};\n\nconst debugStreamDeleteIgnored = function(key) {\n  return 'received streaming deletion for flag \"' + key + '\" but ignored due to version check';\n};\n\nconst debugEnqueueingEvent = function(kind) {\n  return 'enqueueing \"' + kind + '\" event';\n};\n\nconst debugPostingEvents = function(count) {\n  return 'sending ' + count + ' events';\n};\n\nconst debugPostingDiagnosticEvent = function(event) {\n  return 'sending diagnostic event (' + event.kind + ')';\n};\n\nconst invalidInspector = (type, name) => `an inspector: \"${name}\" of an invalid type (${type}) was configured`;\n\nconst inspectorMethodError = (type, name) => `an inspector: \"${name}\" of type: \"${type}\" generated an exception`;\n\nconst invalidTagValue = name => `Config option \"${name}\" must only contain letters, numbers, ., _ or -.`;\n\nconst tagValueTooLong = name => `Value of \"${name}\" was longer than 64 characters and was discarded.`;\n\nmodule.exports = {\n  bootstrapInvalid,\n  bootstrapOldFormat,\n  clientInitialized,\n  clientNotReady,\n  debugEnqueueingEvent,\n  debugPostingDiagnosticEvent,\n  debugPostingEvents,\n  debugStreamDelete,\n  debugStreamDeleteIgnored,\n  debugStreamPatch,\n  debugStreamPatchIgnored,\n  debugStreamPing,\n  debugPolling,\n  debugStreamPut,\n  deprecated,\n  environmentNotFound,\n  environmentNotSpecified,\n  errorFetchingFlags,\n  eventCapacityExceeded,\n  eventWithoutContext,\n  httpErrorMessage,\n  httpUnavailable,\n  identifyDisabled,\n  inspectorMethodError,\n  invalidContentType,\n  invalidData,\n  invalidInspector,\n  invalidKey,\n  invalidContext,\n  invalidTagValue,\n  localStorageUnavailable,\n  networkError,\n  optionBelowMinimum,\n  streamClosing,\n  streamConnecting,\n  streamError,\n  tagValueTooLong,\n  unknownCustomEventKey,\n  unknownOption,\n  contextNotSpecified,\n  unrecoverableStreamError,\n  wrongOptionType,\n  wrongOptionTypeBoolean,\n};\n", "const errors = require('./errors');\nconst { validateLogger } = require('./loggers');\nconst messages = require('./messages');\nconst utils = require('./utils');\n\n// baseOptionDefs should contain an entry for each supported configuration option in the common package.\n// Each entry can have three properties:\n// - \"default\": the default value if any\n// - \"type\": a type constraint used if the type can't be inferred from the default value). The allowable\n//   values are \"boolean\", \"string\", \"number\", \"array\", \"object\", \"function\", or several of these OR'd\n//   together with \"|\" (\"function|object\").\n// - \"minimum\": minimum value if any for numeric properties\n//\n// The extraOptionDefs parameter to validate() uses the same format.\nconst baseOptionDefs = {\n  baseUrl: { default: 'https://app.launchdarkly.com' },\n  streamUrl: { default: 'https://clientstream.launchdarkly.com' },\n  eventsUrl: { default: 'https://events.launchdarkly.com' },\n  sendEvents: { default: true },\n  streaming: { type: 'boolean' }, // default for this is undefined, which is different from false\n  sendLDHeaders: { default: true },\n  requestHeaderTransform: { type: 'function' },\n  sendEventsOnlyForVariation: { default: false },\n  useReport: { default: false },\n  evaluationReasons: { default: false },\n  eventCapacity: { default: 100, minimum: 1 },\n  flushInterval: { default: 2000, minimum: 2000 },\n  samplingInterval: { default: 0, minimum: 0 },\n  streamReconnectDelay: { default: 1000, minimum: 0 },\n  allAttributesPrivate: { default: false },\n  privateAttributes: { default: [] },\n  bootstrap: { type: 'string|object' },\n  diagnosticRecordingInterval: { default: 900000, minimum: 2000 },\n  diagnosticOptOut: { default: false },\n  wrapperName: { type: 'string' },\n  wrapperVersion: { type: 'string' },\n  stateProvider: { type: 'object' }, // not a public option, used internally\n  application: { validator: applicationConfigValidator },\n  inspectors: { default: [] },\n};\n\n/**\n * Expression to validate characters that are allowed in tag keys and values.\n */\nconst allowedTagCharacters = /^(\\w|\\.|-)+$/;\n\nfunction canonicalizeUrl(url) {\n  return url && url.replace(/\\/+$/, '');\n}\n\n/**\n * Verify that a value meets the requirements for a tag value.\n * @param {string} tagValue\n * @param {Object} logger\n */\nfunction validateTagValue(name, tagValue, logger) {\n  if (typeof tagValue !== 'string' || !tagValue.match(allowedTagCharacters)) {\n    logger.warn(messages.invalidTagValue(name));\n    return undefined;\n  }\n  if (tagValue.length > 64) {\n    logger.warn(messages.tagValueTooLong(name));\n    return undefined;\n  }\n  return tagValue;\n}\n\nfunction applicationConfigValidator(name, value, logger) {\n  const validated = {};\n  if (value.id) {\n    validated.id = validateTagValue(`${name}.id`, value.id, logger);\n  }\n  if (value.version) {\n    validated.version = validateTagValue(`${name}.version`, value.version, logger);\n  }\n  return validated;\n}\n\nfunction validate(options, emitter, extraOptionDefs, logger) {\n  const optionDefs = utils.extend({ logger: { default: logger } }, baseOptionDefs, extraOptionDefs);\n\n  const deprecatedOptions = {\n    // As of the latest major version, there are no deprecated options. Next time we deprecate\n    // something, add an item here where the property name is the deprecated name, and the\n    // property value is the preferred name if any, or null/undefined if there is no replacement.\n  };\n\n  function checkDeprecatedOptions(config) {\n    const opts = config;\n    Object.keys(deprecatedOptions).forEach(oldName => {\n      if (opts[oldName] !== undefined) {\n        const newName = deprecatedOptions[oldName];\n        logger && logger.warn(messages.deprecated(oldName, newName));\n        if (newName) {\n          if (opts[newName] === undefined) {\n            opts[newName] = opts[oldName];\n          }\n          delete opts[oldName];\n        }\n      }\n    });\n  }\n\n  function applyDefaults(config) {\n    // This works differently from utils.extend() in that it *will not* override a default value\n    // if the provided value is explicitly set to null. This provides backward compatibility\n    // since in the past we only used the provided values if they were truthy.\n    const ret = utils.extend({}, config);\n    Object.keys(optionDefs).forEach(name => {\n      if (ret[name] === undefined || ret[name] === null) {\n        ret[name] = optionDefs[name] && optionDefs[name].default;\n      }\n    });\n    return ret;\n  }\n\n  function validateTypesAndNames(config) {\n    const ret = utils.extend({}, config);\n    const typeDescForValue = value => {\n      if (value === null) {\n        return 'any';\n      }\n      if (value === undefined) {\n        return undefined;\n      }\n      if (Array.isArray(value)) {\n        return 'array';\n      }\n      const t = typeof value;\n      if (t === 'boolean' || t === 'string' || t === 'number' || t === 'function') {\n        return t;\n      }\n      return 'object';\n    };\n    Object.keys(config).forEach(name => {\n      const value = config[name];\n      if (value !== null && value !== undefined) {\n        const optionDef = optionDefs[name];\n        if (optionDef === undefined) {\n          reportArgumentError(messages.unknownOption(name));\n        } else {\n          const expectedType = optionDef.type || typeDescForValue(optionDef.default);\n          const validator = optionDef.validator;\n          if (validator) {\n            const validated = validator(name, config[name], logger);\n            if (validated !== undefined) {\n              ret[name] = validated;\n            } else {\n              delete ret[name];\n            }\n          } else if (expectedType !== 'any') {\n            const allowedTypes = expectedType.split('|');\n            const actualType = typeDescForValue(value);\n            if (allowedTypes.indexOf(actualType) < 0) {\n              if (expectedType === 'boolean') {\n                ret[name] = !!value;\n                reportArgumentError(messages.wrongOptionTypeBoolean(name, actualType));\n              } else {\n                reportArgumentError(messages.wrongOptionType(name, expectedType, actualType));\n                ret[name] = optionDef.default;\n              }\n            } else {\n              if (actualType === 'number' && optionDef.minimum !== undefined && value < optionDef.minimum) {\n                reportArgumentError(messages.optionBelowMinimum(name, value, optionDef.minimum));\n                ret[name] = optionDef.minimum;\n              }\n            }\n          }\n        }\n      }\n    });\n\n    ret.baseUrl = canonicalizeUrl(ret.baseUrl);\n    ret.streamUrl = canonicalizeUrl(ret.streamUrl);\n    ret.eventsUrl = canonicalizeUrl(ret.eventsUrl);\n\n    return ret;\n  }\n\n  function reportArgumentError(message) {\n    utils.onNextTick(() => {\n      emitter && emitter.maybeReportError(new errors.LDInvalidArgumentError(message));\n    });\n  }\n\n  let config = utils.extend({}, options || {});\n\n  checkDeprecatedOptions(config);\n\n  config = applyDefaults(config);\n  config = validateTypesAndNames(config);\n  validateLogger(config.logger);\n\n  return config;\n}\n\n/**\n * Get tags for the specified configuration.\n *\n * If any additional tags are added to the configuration, then the tags from\n * this method should be extended with those.\n * @param {Object} config The already valiated configuration.\n * @returns {Object} The tag configuration.\n */\nfunction getTags(config) {\n  const tags = {};\n  if (config) {\n    if (config.application && config.application.id !== undefined && config.application.id !== null) {\n      tags['application-id'] = [config.application.id];\n    }\n    if (config.application && config.application.version !== undefined && config.application.id !== null) {\n      tags['application-version'] = [config.application.version];\n    }\n  }\n\n  return tags;\n}\n\nmodule.exports = {\n  baseOptionDefs,\n  validate,\n  getTags,\n};\n", "const { getLDUserAgentString } = require('./utils');\nconst configuration = require('./configuration');\n\nfunction getLDHeaders(platform, options) {\n  if (options && !options.sendLDHeaders) {\n    return {};\n  }\n  const h = {};\n  h[platform.userAgentHeaderName || 'User-Agent'] = getLDUserAgentString(platform);\n  if (options && options.wrapperName) {\n    h['X-LaunchDarkly-Wrapper'] = options.wrapperVersion\n      ? options.wrapperName + '/' + options.wrapperVersion\n      : options.wrapperName;\n  }\n  const tags = configuration.getTags(options);\n  const tagKeys = Object.keys(tags);\n  if (tagKeys.length) {\n    h['x-launchdarkly-tags'] = tagKeys\n      .sort()\n      .map(\n        key => (Array.isArray(tags[key]) ? tags[key].sort().map(value => `${key}/${value}`) : [`${key}/${tags[key]}`])\n      )\n      .reduce((flattened, item) => flattened.concat(item), [])\n      .join(' ');\n  }\n  return h;\n}\n\nfunction transformHeaders(headers, options) {\n  if (!options || !options.requestHeaderTransform) {\n    return headers;\n  }\n  return options.requestHeaderTransform({ ...headers });\n}\n\nmodule.exports = {\n  getLDHeaders,\n  transformHeaders,\n};\n", "const errors = require('./errors');\nconst utils = require('./utils');\nconst { v1: uuidv1 } = require('uuid');\nconst { getLDHeaders, transformHeaders } = require('./headers');\n\nconst MAX_URL_LENGTH = 2000;\n\nfunction EventSender(platform, environmentId, options) {\n  const imageUrlPath = '/a/' + environmentId + '.gif';\n  const baseHeaders = utils.extend({ 'Content-Type': 'application/json' }, getLDHeaders(platform, options));\n  const httpFallbackPing = platform.httpFallbackPing; // this will be set for us if we're in the browser SDK\n  const sender = {};\n\n  function getResponseInfo(result) {\n    const ret = { status: result.status };\n    const dateStr = result.header('date');\n    if (dateStr) {\n      const time = Date.parse(dateStr);\n      if (time) {\n        ret.serverTime = time;\n      }\n    }\n    return ret;\n  }\n\n  sender.sendChunk = (events, url, isDiagnostic, usePost) => {\n    const jsonBody = JSON.stringify(events);\n    const payloadId = isDiagnostic ? null : uuidv1();\n\n    function doPostRequest(canRetry) {\n      const headers = isDiagnostic\n        ? baseHeaders\n        : utils.extend({}, baseHeaders, {\n            'X-LaunchDarkly-Event-Schema': '4',\n            'X-LaunchDarkly-Payload-ID': payloadId,\n          });\n      return platform\n        .httpRequest('POST', url, transformHeaders(headers, options), jsonBody)\n        .promise.then(result => {\n          if (!result) {\n            // This was a response from a fire-and-forget request, so we won't have a status.\n            return;\n          }\n          if (result.status >= 400 && errors.isHttpErrorRecoverable(result.status) && canRetry) {\n            return doPostRequest(false);\n          } else {\n            return getResponseInfo(result);\n          }\n        })\n        .catch(() => {\n          if (canRetry) {\n            return doPostRequest(false);\n          }\n          return Promise.reject();\n        });\n    }\n\n    if (usePost) {\n      return doPostRequest(true).catch(() => {});\n    } else {\n      httpFallbackPing && httpFallbackPing(url + imageUrlPath + '?d=' + utils.base64URLEncode(jsonBody));\n      return Promise.resolve(); // we don't wait for this request to complete, it's just a one-way ping\n    }\n  };\n\n  sender.sendEvents = function(events, url, isDiagnostic) {\n    if (!platform.httpRequest) {\n      return Promise.resolve();\n    }\n    const canPost = platform.httpAllowsPost();\n    let chunks;\n    if (canPost) {\n      // no need to break up events into chunks if we can send a POST\n      chunks = [events];\n    } else {\n      chunks = utils.chunkEventsForUrl(MAX_URL_LENGTH - url.length, events);\n    }\n    const results = [];\n    for (let i = 0; i < chunks.length; i++) {\n      results.push(sender.sendChunk(chunks[i], url, isDiagnostic, canPost));\n    }\n    return Promise.all(results);\n  };\n\n  return sender;\n}\n\nmodule.exports = EventSender;\n", "/**\n * Validate a context kind.\n * @param {string} kind\n * @returns true if the kind is valid.\n */\nconst { commonBasicLogger } = require('./loggers');\n\nfunction validKind(kind) {\n  return typeof kind === 'string' && kind !== 'kind' && kind.match(/^(\\w|\\.|-)+$/);\n}\n\n/**\n * Perform a check of basic context requirements.\n * @param {Object} context\n * @param {boolean} allowLegacyKey If true, then a legacy user can have an\n * empty or non-string key. A legacy user is a context without a kind.\n * @returns true if the context meets basic requirements.\n */\nfunction checkContext(context, allowLegacyKey) {\n  if (context) {\n    if (allowLegacyKey && (context.kind === undefined || context.kind === null)) {\n      return context.key !== undefined && context.key !== null;\n    }\n    const key = context.key;\n    const kind = context.kind === undefined ? 'user' : context.kind;\n    const kindValid = validKind(kind);\n    const keyValid = kind === 'multi' || (key !== undefined && key !== null && key !== '');\n    if (kind === 'multi') {\n      const kinds = Object.keys(context).filter(key => key !== 'kind');\n      return (\n        keyValid &&\n        kinds.every(key => validKind(key)) &&\n        kinds.every(key => {\n          const contextKey = context[key].key;\n          return contextKey !== undefined && contextKey !== null && contextKey !== '';\n        })\n      );\n    }\n    return keyValid && kindValid;\n  }\n  return false;\n}\n\n/**\n * For a given context get a list of context kinds.\n * @param {Object} context\n * @returns A list of kinds in the context.\n */\nfunction getContextKinds(context) {\n  if (context) {\n    if (context.kind === null || context.kind === undefined) {\n      return ['user'];\n    }\n    if (context.kind !== 'multi') {\n      return [context.kind];\n    }\n    return Object.keys(context).filter(kind => kind !== 'kind');\n  }\n  return [];\n}\n\n/**\n * The partial URL encoding is needed because : is a valid character in context keys.\n *\n * Partial encoding is the replacement of all colon (:) characters with the URL\n * encoded equivalent (%3A) and all percent (%) characters with the URL encoded\n * equivalent (%25).\n * @param {string} key The key to encode.\n * @returns {string} Partially URL encoded key.\n */\nfunction encodeKey(key) {\n  if (key.includes('%') || key.includes(':')) {\n    return key.replace(/%/g, '%25').replace(/:/g, '%3A');\n  }\n  return key;\n}\n\nfunction getCanonicalKey(context) {\n  if (context) {\n    if ((context.kind === undefined || context.kind === null || context.kind === 'user') && context.key) {\n      return context.key;\n    } else if (context.kind !== 'multi' && context.key) {\n      return `${context.kind}:${encodeKey(context.key)}`;\n    } else if (context.kind === 'multi') {\n      return Object.keys(context)\n        .sort()\n        .filter(key => key !== 'kind')\n        .map(key => `${key}:${encodeKey(context[key].key)}`)\n        .join(':');\n    }\n  }\n}\n\nfunction getContextKeys(context, logger = commonBasicLogger()) {\n  if (!context) {\n    return undefined;\n  }\n\n  const keys = {};\n  const { kind, key } = context;\n\n  switch (kind) {\n    case undefined:\n      keys.user = `${key}`;\n      break;\n    case 'multi':\n      Object.entries(context)\n        .filter(([key]) => key !== 'kind')\n        .forEach(([key, value]) => {\n          if (value && value.key) {\n            keys[key] = value.key;\n          }\n        });\n      break;\n    case null:\n      logger.warn(`null is not a valid context kind: ${context}`);\n      break;\n    case '':\n      logger.warn(`'' is not a valid context kind: ${context}`);\n      break;\n    default:\n      keys[kind] = `${key}`;\n      break;\n  }\n\n  return keys;\n}\n\nmodule.exports = {\n  checkContext,\n  getContextKeys,\n  getContextKinds,\n  getCanonicalKey,\n};\n", "const { getContextKinds } = require('./context');\n\nfunction getKinds(event) {\n  if (event.context) {\n    return getContextKinds(event.context);\n  }\n  if (event.contextKeys) {\n    return Object.keys(event.contextKeys);\n  }\n  return [];\n}\n\nfunction EventSummarizer() {\n  const es = {};\n\n  let startDate = 0,\n    endDate = 0,\n    counters = {},\n    contextKinds = {};\n\n  es.summarizeEvent = event => {\n    if (event.kind === 'feature') {\n      const counterKey =\n        event.key +\n        ':' +\n        (event.variation !== null && event.variation !== undefined ? event.variation : '') +\n        ':' +\n        (event.version !== null && event.version !== undefined ? event.version : '');\n      const counterVal = counters[counterKey];\n      let kinds = contextKinds[event.key];\n      if (!kinds) {\n        kinds = new Set();\n        contextKinds[event.key] = kinds;\n      }\n      getKinds(event).forEach(kind => kinds.add(kind));\n\n      if (counterVal) {\n        counterVal.count = counterVal.count + 1;\n      } else {\n        counters[counterKey] = {\n          count: 1,\n          key: event.key,\n          version: event.version,\n          variation: event.variation,\n          value: event.value,\n          default: event.default,\n        };\n      }\n      if (startDate === 0 || event.creationDate < startDate) {\n        startDate = event.creationDate;\n      }\n      if (event.creationDate > endDate) {\n        endDate = event.creationDate;\n      }\n    }\n  };\n\n  es.getSummary = () => {\n    const flagsOut = {};\n    let empty = true;\n    for (const c of Object.values(counters)) {\n      let flag = flagsOut[c.key];\n      if (!flag) {\n        flag = {\n          default: c.default,\n          counters: [],\n          contextKinds: [...contextKinds[c.key]],\n        };\n        flagsOut[c.key] = flag;\n      }\n      const counterOut = {\n        value: c.value,\n        count: c.count,\n      };\n      if (c.variation !== undefined && c.variation !== null) {\n        counterOut.variation = c.variation;\n      }\n      if (c.version !== undefined && c.version !== null) {\n        counterOut.version = c.version;\n      } else {\n        counterOut.unknown = true;\n      }\n      flag.counters.push(counterOut);\n      empty = false;\n    }\n    return empty\n      ? null\n      : {\n          startDate,\n          endDate,\n          features: flagsOut,\n        };\n  };\n\n  es.clearSummary = () => {\n    startDate = 0;\n    endDate = 0;\n    counters = {};\n    contextKinds = {};\n  };\n\n  return es;\n}\n\nmodule.exports = EventSummarizer;\n", "/**\n * Take a key string and escape the characters to allow it to be used as a reference.\n * @param {string} key\n * @returns {string} The processed key.\n */\nfunction processEscapeCharacters(key) {\n  return key.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n/**\n * @param {string} reference The reference to get the components of.\n * @returns {string[]} The components of the reference. Escape characters will be converted to their representative values.\n */\nfunction getComponents(reference) {\n  const referenceWithoutPrefix = reference.startsWith('/') ? reference.substring(1) : reference;\n  return referenceWithoutPrefix\n    .split('/')\n    .map(component => (component.indexOf('~') >= 0 ? component.replace(/~1/g, '/').replace(/~0/g, '~') : component));\n}\n\n/**\n * @param {string} reference The reference to check if it is a literal.\n * @returns true if the reference is a literal.\n */\nfunction isLiteral(reference) {\n  return !reference.startsWith('/');\n}\n\n/**\n * Compare two references and determine if they are equivalent.\n * @param {string} a\n * @param {string} b\n */\nfunction compare(a, b) {\n  const aIsLiteral = isLiteral(a);\n  const bIsLiteral = isLiteral(b);\n  if (aIsLiteral && bIsLiteral) {\n    return a === b;\n  }\n  if (aIsLiteral) {\n    const bComponents = getComponents(b);\n    if (bComponents.length !== 1) {\n      return false;\n    }\n    return a === bComponents[0];\n  }\n  if (bIsLiteral) {\n    const aComponents = getComponents(a);\n    if (aComponents.length !== 1) {\n      return false;\n    }\n    return b === aComponents[0];\n  }\n  return a === b;\n}\n\n/**\n * @param {string} a\n * @param {string} b\n * @returns The two strings joined by '/'.\n */\nfunction join(a, b) {\n  return `${a}/${b}`;\n}\n\n/**\n * There are cases where a field could have been named with a preceeding '/'.\n * If that attribute was private, then the literal would appear to be a reference.\n * This method can be used to convert a literal to a reference in such situations.\n * @param {string} literal The literal to convert to a reference.\n * @returns A literal which has been converted to a reference.\n */\nfunction literalToReference(literal) {\n  return `/${processEscapeCharacters(literal)}`;\n}\n\n/**\n * Clone an object excluding the values referenced by a list of references.\n * @param {Object} target The object to clone.\n * @param {string[]} references A list of references from the cloned object.\n * @returns {{cloned: Object, excluded: string[]}} The cloned object and a list of excluded values.\n */\nfunction cloneExcluding(target, references) {\n  const stack = [];\n  const cloned = {};\n  const excluded = [];\n\n  stack.push(\n    ...Object.keys(target).map(key => ({\n      key,\n      ptr: literalToReference(key),\n      source: target,\n      parent: cloned,\n      visited: [target],\n    }))\n  );\n\n  while (stack.length) {\n    const item = stack.pop();\n    if (!references.some(ptr => compare(ptr, item.ptr))) {\n      const value = item.source[item.key];\n\n      // Handle null because it overlaps with object, which we will want to handle later.\n      if (value === null) {\n        item.parent[item.key] = value;\n      } else if (Array.isArray(value)) {\n        item.parent[item.key] = [...value];\n      } else if (typeof value === 'object') {\n        //Arrays and null must already be handled.\n\n        //Prevent cycles by not visiting the same object\n        //with in the same branch. Parallel branches\n        //may contain the same object.\n        if (item.visited.includes(value)) {\n          continue;\n        }\n\n        item.parent[item.key] = {};\n\n        stack.push(\n          ...Object.keys(value).map(key => ({\n            key,\n            ptr: join(item.ptr, processEscapeCharacters(key)),\n            source: value,\n            parent: item.parent[item.key],\n            visited: [...item.visited, value],\n          }))\n        );\n      } else {\n        item.parent[item.key] = value;\n      }\n    } else {\n      excluded.push(item.ptr);\n    }\n  }\n  return { cloned, excluded: excluded.sort() };\n}\n\nmodule.exports = {\n  cloneExcluding,\n  compare,\n  literalToReference,\n};\n", "const AttributeReference = require('./attributeReference');\n\nfunction ContextFilter(config) {\n  const filter = {};\n\n  const allAttributesPrivate = config.allAttributesPrivate;\n  const privateAttributes = config.privateAttributes || [];\n\n  // These attributes cannot be removed via a private attribute.\n  const protectedAttributes = ['key', 'kind', '_meta', 'anonymous'];\n\n  const legacyTopLevelCopyAttributes = ['name', 'ip', 'firstName', 'lastName', 'email', 'avatar', 'country'];\n\n  /**\n   * For the given context and configuration get a list of attributes to filter.\n   * @param {Object} context\n   * @returns {string[]} A list of the attributes to filter.\n   */\n  const getAttributesToFilter = context =>\n    (allAttributesPrivate\n      ? Object.keys(context)\n      : [...privateAttributes, ...((context._meta && context._meta.privateAttributes) || [])]\n    ).filter(attr => !protectedAttributes.some(protectedAttr => AttributeReference.compare(attr, protectedAttr)));\n\n  /**\n   * @param {Object} context\n   * @returns {Object} A copy of the context with private attributes removed,\n   * and the redactedAttributes meta populated.\n   */\n  const filterSingleKind = context => {\n    if (typeof context !== 'object' || context === null || Array.isArray(context)) {\n      return undefined;\n    }\n\n    const { cloned, excluded } = AttributeReference.cloneExcluding(context, getAttributesToFilter(context));\n    cloned.key = String(cloned.key);\n    if (excluded.length) {\n      if (!cloned._meta) {\n        cloned._meta = {};\n      }\n      cloned._meta.redactedAttributes = excluded;\n    }\n    if (cloned._meta) {\n      delete cloned._meta['privateAttributes'];\n      if (Object.keys(cloned._meta).length === 0) {\n        delete cloned._meta;\n      }\n    }\n    // Make sure anonymous is boolean if present.\n    // Null counts as present, and would be falsy, which is the default.\n    if (cloned.anonymous !== undefined) {\n      cloned.anonymous = !!cloned.anonymous;\n    }\n\n    return cloned;\n  };\n\n  /**\n   * @param {Object} context\n   * @returns {Object} A copy of the context with the private attributes removed,\n   * and the redactedAttributes meta populated for each sub-context.\n   */\n  const filterMultiKind = context => {\n    const filtered = {\n      kind: context.kind,\n    };\n    const contextKeys = Object.keys(context);\n\n    for (const contextKey of contextKeys) {\n      if (contextKey !== 'kind') {\n        const filteredContext = filterSingleKind(context[contextKey]);\n        if (filteredContext) {\n          filtered[contextKey] = filteredContext;\n        }\n      }\n    }\n    return filtered;\n  };\n\n  /**\n   * Convert the LDUser object into an LDContext object.\n   * @param {Object} user The LDUser to produce an LDContext for.\n   * @returns {Object} A single kind context based on the provided user.\n   */\n  const legacyToSingleKind = user => {\n    const filtered = {\n      /* Destructure custom items into the top level.\n         Duplicate keys will be overridden by previously\n         top level items.\n      */\n      ...(user.custom || {}),\n\n      // Implicity a user kind.\n      kind: 'user',\n\n      key: user.key,\n    };\n\n    if (user.anonymous !== undefined) {\n      filtered.anonymous = !!user.anonymous;\n    }\n\n    // Copy top level keys and convert them to strings.\n    // Remove keys that may have been destructured from `custom`.\n    for (const key of legacyTopLevelCopyAttributes) {\n      delete filtered[key];\n      if (user[key] !== undefined && user[key] !== null) {\n        filtered[key] = String(user[key]);\n      }\n    }\n\n    if (user.privateAttributeNames !== undefined && user.privateAttributeNames !== null) {\n      filtered._meta = filtered._meta || {};\n      // If any private attributes started with '/' we need to convert them to references, otherwise the '/' will\n      // cause the literal to incorrectly be treated as a reference.\n      filtered._meta.privateAttributes = user.privateAttributeNames.map(\n        literal => (literal.startsWith('/') ? AttributeReference.literalToReference(literal) : literal)\n      );\n    }\n\n    return filtered;\n  };\n\n  filter.filter = context => {\n    if (context.kind === undefined || context.kind === null) {\n      return filterSingleKind(legacyToSingleKind(context));\n    } else if (context.kind === 'multi') {\n      return filterMultiKind(context);\n    } else {\n      return filterSingleKind(context);\n    }\n  };\n\n  return filter;\n}\n\nmodule.exports = ContextFilter;\n", "const EventSender = require('./EventSender');\nconst EventSummarizer = require('./EventSummarizer');\nconst ContextFilter = require('./ContextFilter');\nconst errors = require('./errors');\nconst messages = require('./messages');\nconst utils = require('./utils');\nconst { getContextKeys } = require('./context');\n\nfunction EventProcessor(\n  platform,\n  options,\n  environmentId,\n  diagnosticsAccumulator = null,\n  emitter = null,\n  sender = null\n) {\n  const processor = {};\n  const eventSender = sender || EventSender(platform, environmentId, options);\n  const mainEventsUrl = utils.appendUrlPath(options.eventsUrl, '/events/bulk/' + environmentId);\n  const summarizer = EventSummarizer();\n  const contextFilter = ContextFilter(options);\n  const samplingInterval = options.samplingInterval;\n  const eventCapacity = options.eventCapacity;\n  const flushInterval = options.flushInterval;\n  const logger = options.logger;\n  let queue = [];\n  let lastKnownPastTime = 0;\n  let disabled = false;\n  let exceededCapacity = false;\n  let flushTimer;\n\n  function shouldSampleEvent() {\n    return samplingInterval === 0 || Math.floor(Math.random() * samplingInterval) === 0;\n  }\n\n  function shouldDebugEvent(e) {\n    if (e.debugEventsUntilDate) {\n      // The \"last known past time\" comes from the last HTTP response we got from the server.\n      // In case the client's time is set wrong, at least we know that any expiration date\n      // earlier than that point is definitely in the past.  If there's any discrepancy, we\n      // want to err on the side of cutting off event debugging sooner.\n      return e.debugEventsUntilDate > lastKnownPastTime && e.debugEventsUntilDate > new Date().getTime();\n    }\n    return false;\n  }\n\n  // Transform an event from its internal format to the format we use when sending a payload.\n  function makeOutputEvent(e) {\n    const ret = utils.extend({}, e);\n    if (e.kind === 'identify') {\n      // identify events always have an inline context\n      ret.context = contextFilter.filter(e.context);\n    } else {\n      ret.contextKeys = getContextKeysFromEvent(e);\n      delete ret['context'];\n    }\n    if (e.kind === 'feature') {\n      delete ret['trackEvents'];\n      delete ret['debugEventsUntilDate'];\n    }\n    return ret;\n  }\n\n  function getContextKeysFromEvent(event) {\n    return getContextKeys(event.context, logger);\n  }\n\n  function addToOutbox(event) {\n    if (queue.length < eventCapacity) {\n      queue.push(event);\n      exceededCapacity = false;\n    } else {\n      if (!exceededCapacity) {\n        exceededCapacity = true;\n        logger.warn(messages.eventCapacityExceeded());\n      }\n      if (diagnosticsAccumulator) {\n        // For diagnostic events, we track how many times we had to drop an event due to exceeding the capacity.\n        diagnosticsAccumulator.incrementDroppedEvents();\n      }\n    }\n  }\n\n  processor.enqueue = function(event) {\n    if (disabled) {\n      return;\n    }\n    let addFullEvent = false;\n    let addDebugEvent = false;\n\n    // Add event to the summary counters if appropriate\n    summarizer.summarizeEvent(event);\n\n    // Decide whether to add the event to the payload. Feature events may be added twice, once for\n    // the event (if tracked) and once for debugging.\n    if (event.kind === 'feature') {\n      if (shouldSampleEvent()) {\n        addFullEvent = !!event.trackEvents;\n        addDebugEvent = shouldDebugEvent(event);\n      }\n    } else {\n      addFullEvent = shouldSampleEvent();\n    }\n\n    if (addFullEvent) {\n      addToOutbox(makeOutputEvent(event));\n    }\n    if (addDebugEvent) {\n      const debugEvent = utils.extend({}, event, { kind: 'debug' });\n      debugEvent.context = contextFilter.filter(debugEvent.context);\n      delete debugEvent['trackEvents'];\n      delete debugEvent['debugEventsUntilDate'];\n      addToOutbox(debugEvent);\n    }\n  };\n\n  processor.flush = function() {\n    if (disabled) {\n      return Promise.resolve();\n    }\n    const eventsToSend = queue;\n    const summary = summarizer.getSummary();\n    summarizer.clearSummary();\n    if (summary) {\n      summary.kind = 'summary';\n      eventsToSend.push(summary);\n    }\n    if (diagnosticsAccumulator) {\n      // For diagnostic events, we record how many events were in the queue at the last flush (since \"how\n      // many events happened to be in the queue at the moment we decided to send a diagnostic event\" would\n      // not be a very useful statistic).\n      diagnosticsAccumulator.setEventsInLastBatch(eventsToSend.length);\n    }\n    if (eventsToSend.length === 0) {\n      return Promise.resolve();\n    }\n    queue = [];\n    logger.debug(messages.debugPostingEvents(eventsToSend.length));\n    return eventSender.sendEvents(eventsToSend, mainEventsUrl).then(responses => {\n      const responseInfo = responses && responses[0];\n      if (responseInfo) {\n        if (responseInfo.serverTime) {\n          lastKnownPastTime = responseInfo.serverTime;\n        }\n        if (!errors.isHttpErrorRecoverable(responseInfo.status)) {\n          disabled = true;\n        }\n        if (responseInfo.status >= 400) {\n          utils.onNextTick(() => {\n            emitter.maybeReportError(\n              new errors.LDUnexpectedResponseError(\n                messages.httpErrorMessage(responseInfo.status, 'event posting', 'some events were dropped')\n              )\n            );\n          });\n        }\n      }\n    });\n  };\n\n  processor.start = function() {\n    const flushTick = () => {\n      processor.flush();\n      flushTimer = setTimeout(flushTick, flushInterval);\n    };\n    flushTimer = setTimeout(flushTick, flushInterval);\n  };\n\n  processor.stop = function() {\n    clearTimeout(flushTimer);\n  };\n\n  return processor;\n}\n\nmodule.exports = EventProcessor;\n", "function EventEmitter(logger) {\n  const emitter = {};\n  const events = {};\n\n  const listeningTo = event => !!events[event];\n\n  emitter.on = function(event, handler, context) {\n    events[event] = events[event] || [];\n    events[event] = events[event].concat({\n      handler: handler,\n      context: context,\n    });\n  };\n\n  emitter.off = function(event, handler, context) {\n    if (!events[event]) {\n      return;\n    }\n    for (let i = 0; i < events[event].length; i++) {\n      if (events[event][i].handler === handler && events[event][i].context === context) {\n        events[event] = events[event].slice(0, i).concat(events[event].slice(i + 1));\n      }\n    }\n  };\n\n  emitter.emit = function(event) {\n    if (!events[event]) {\n      return;\n    }\n    // Copy the list of handlers before iterating, in case any handler adds or removes another handler.\n    // Any such changes should not affect what we do here-- we want to notify every handler that existed\n    // at the moment that the event was fired.\n    const copiedHandlers = events[event].slice(0);\n    for (let i = 0; i < copiedHandlers.length; i++) {\n      copiedHandlers[i].handler.apply(copiedHandlers[i].context, Array.prototype.slice.call(arguments, 1));\n    }\n  };\n\n  emitter.getEvents = function() {\n    return Object.keys(events);\n  };\n\n  emitter.getEventListenerCount = function(event) {\n    return events[event] ? events[event].length : 0;\n  };\n\n  emitter.maybeReportError = function(error) {\n    if (!error) {\n      return;\n    }\n    if (listeningTo('error')) {\n      this.emit('error', error);\n    } else {\n      (logger || console).error(error.message);\n    }\n  };\n  return emitter;\n}\n\nmodule.exports = EventEmitter;\n", "// This file provides an abstraction of the client's startup state.\n//\n// Startup can either succeed or fail exactly once; calling signalSuccess() or signalFailure()\n// after that point has no effect.\n//\n// On success, we fire both an \"initialized\" event and a \"ready\" event. Both the waitForInitialization()\n// promise and the waitUntilReady() promise are resolved in this case.\n//\n// On failure, we fire both a \"failed\" event (with the error as a parameter) and a \"ready\" event.\n// The waitForInitialization() promise is rejected, but the waitUntilReady() promise is resolved.\n//\n// To complicate things, we must *not* create the waitForInitialization() promise unless it is\n// requested, because otherwise failures would cause an *unhandled* rejection which can be a\n// serious problem in some environments. So we use a somewhat roundabout system for tracking the\n// initialization state and lazily creating this promise.\n\nconst readyEvent = 'ready',\n  successEvent = 'initialized',\n  failureEvent = 'failed';\n\nfunction InitializationStateTracker(eventEmitter) {\n  let succeeded = false,\n    failed = false,\n    failureValue = null,\n    initializationPromise = null;\n\n  const readyPromise = new Promise(resolve => {\n    const onReady = () => {\n      eventEmitter.off(readyEvent, onReady); // we can't use \"once\" because it's not available on some JS platforms\n      resolve();\n    };\n    eventEmitter.on(readyEvent, onReady);\n  }).catch(() => {}); // this Promise should never be rejected, but the catch handler is a safety measure\n\n  return {\n    getInitializationPromise: () => {\n      if (initializationPromise) {\n        return initializationPromise;\n      }\n      if (succeeded) {\n        return Promise.resolve();\n      }\n      if (failed) {\n        return Promise.reject(failureValue);\n      }\n      initializationPromise = new Promise((resolve, reject) => {\n        const onSuccess = () => {\n          eventEmitter.off(successEvent, onSuccess);\n          resolve();\n        };\n        const onFailure = err => {\n          eventEmitter.off(failureEvent, onFailure);\n          reject(err);\n        };\n        eventEmitter.on(successEvent, onSuccess);\n        eventEmitter.on(failureEvent, onFailure);\n      });\n      return initializationPromise;\n    },\n\n    getReadyPromise: () => readyPromise,\n\n    signalSuccess: () => {\n      if (!succeeded && !failed) {\n        succeeded = true;\n        eventEmitter.emit(successEvent);\n        eventEmitter.emit(readyEvent);\n      }\n    },\n\n    signalFailure: err => {\n      if (!succeeded && !failed) {\n        failed = true;\n        failureValue = err;\n        eventEmitter.emit(failureEvent, err);\n        eventEmitter.emit(readyEvent);\n      }\n      eventEmitter.maybeReportError(err); // the \"error\" event can be emitted more than once, unlike the others\n    },\n  };\n}\n\nmodule.exports = InitializationStateTracker;\n", "const utils = require('./utils');\n\nfunction PersistentFlagStore(storage, environment, hash, ident) {\n  const store = {};\n\n  function getFlagsKey() {\n    let key = '';\n    const context = ident.getContext();\n    if (context) {\n      key = hash || utils.btoa(JSON.stringify(context));\n    }\n    return 'ld:' + environment + ':' + key;\n  }\n\n  // Returns a Promise which will be resolved with a parsed JSON value if a stored value was available,\n  // or resolved with null if there was no value or if storage was not available.\n  store.loadFlags = () =>\n    storage.get(getFlagsKey()).then(dataStr => {\n      if (dataStr === null || dataStr === undefined) {\n        return null;\n      }\n      try {\n        let data = JSON.parse(dataStr);\n        if (data) {\n          const schema = data.$schema;\n          if (schema === undefined || schema < 1) {\n            data = utils.transformValuesToVersionedValues(data);\n          } else {\n            delete data['$schema'];\n          }\n        }\n        return data;\n      } catch (ex) {\n        return store.clearFlags().then(() => null);\n      }\n    });\n\n  // Resolves with true if successful, or false if storage is unavailable. Never rejects.\n  store.saveFlags = flags => {\n    const data = utils.extend({}, flags, { $schema: 1 });\n    return storage.set(getFlagsKey(), JSON.stringify(data));\n  };\n\n  // Resolves with true if successful, or false if storage is unavailable. Never rejects.\n  store.clearFlags = () => storage.clear(getFlagsKey());\n\n  return store;\n}\n\nmodule.exports = PersistentFlagStore;\n", "const messages = require('./messages');\n\n// The localStorageProvider is provided by the platform object. It should have the following\n// methods, each of which should return a Promise:\n// - get(key): Gets the string value, if any, for the given key\n// - set(key, value): Stores a string value for the given key\n// - remove(key): Removes the given key\n//\n// Storage is just a light wrapper of the localStorageProvider, adding error handling and\n// ensuring that we don't call it if it's unavailable. The get method will simply resolve\n// with an undefined value if there is an error or if there is no localStorageProvider.\n// None of the promises returned by Storage will ever be rejected.\n//\n// It is always possible that the underlying platform storage mechanism might fail or be\n// disabled. If so, it's likely that it will keep failing, so we will only log one warning\n// instead of repetitive warnings.\nfunction PersistentStorage(localStorageProvider, logger) {\n  const storage = {};\n  let loggedError = false;\n\n  const logError = err => {\n    if (!loggedError) {\n      loggedError = true;\n      logger.warn(messages.localStorageUnavailable(err));\n    }\n  };\n\n  storage.isEnabled = () => !!localStorageProvider;\n\n  // Resolves with a value, or undefined if storage is unavailable. Never rejects.\n  storage.get = key =>\n    new Promise(resolve => {\n      if (!localStorageProvider) {\n        resolve(undefined);\n        return;\n      }\n      localStorageProvider\n        .get(key)\n        .then(resolve)\n        .catch(err => {\n          logError(err);\n          resolve(undefined);\n        });\n    });\n\n  // Resolves with true if successful, or false if storage is unavailable. Never rejects.\n  storage.set = (key, value) =>\n    new Promise(resolve => {\n      if (!localStorageProvider) {\n        resolve(false);\n        return;\n      }\n      localStorageProvider\n        .set(key, value)\n        .then(() => resolve(true))\n        .catch(err => {\n          logError(err);\n          resolve(false);\n        });\n    });\n\n  // Resolves with true if successful, or false if storage is unavailable. Never rejects.\n  storage.clear = key =>\n    new Promise(resolve => {\n      if (!localStorageProvider) {\n        resolve(false);\n        return;\n      }\n      localStorageProvider\n        .clear(key)\n        .then(() => resolve(true))\n        .catch(err => {\n          logError(err);\n          resolve(false);\n        });\n    });\n\n  return storage;\n}\n\nmodule.exports = PersistentStorage;\n", "const messages = require('./messages');\nconst { appendUrlPath, base64URLEncode, objectHasOwnProperty } = require('./utils');\nconst { getLDHeaders, transformHeaders } = require('./headers');\nconst { isHttpErrorRecoverable } = require('./errors');\n\n// The underlying event source implementation is abstracted via the platform object, which should\n// have these three properties:\n// eventSourceFactory(): a function that takes a URL and optional config object and returns an object\n//   with the same methods as the regular HTML5 EventSource object. The properties in the config\n//   object are those supported by the launchdarkly-eventsource package; browser EventSource\n//   implementations don't have any config options.\n// eventSourceIsActive(): a function that takes an EventSource-compatible object and returns true if\n//   it is in an active state (connected or connecting).\n// eventSourceAllowsReport: true if REPORT is supported.\n\n// The read timeout for the stream is a fixed value that is set to be slightly longer than the expected\n// interval between heartbeats from the LaunchDarkly streaming server. If this amount of time elapses\n// with no new data, the connection will be cycled.\nconst streamReadTimeoutMillis = 5 * 60 * 1000; // 5 minutes\nconst maxRetryDelay = 30 * 1000; // Maximum retry delay 30 seconds.\nconst jitterRatio = 0.5; // Delay should be 50%-100% of calculated time.\n\nfunction Stream(platform, config, environment, diagnosticsAccumulator) {\n  const baseUrl = config.streamUrl;\n  const logger = config.logger;\n  const stream = {};\n  const evalUrlPrefix = appendUrlPath(baseUrl, '/eval/' + environment);\n  const useReport = config.useReport;\n  const withReasons = config.evaluationReasons;\n  const baseReconnectDelay = config.streamReconnectDelay;\n  const headers = getLDHeaders(platform, config);\n  let firstConnectionErrorLogged = false;\n  let es = null;\n  let reconnectTimeoutReference = null;\n  let connectionAttemptStartTime;\n  let context = null;\n  let hash = null;\n  let handlers = null;\n  let retryCount = 0;\n\n  function backoff() {\n    const delay = baseReconnectDelay * Math.pow(2, retryCount);\n    return delay > maxRetryDelay ? maxRetryDelay : delay;\n  }\n\n  function jitter(computedDelayMillis) {\n    return computedDelayMillis - Math.trunc(Math.random() * jitterRatio * computedDelayMillis);\n  }\n\n  function getNextRetryDelay() {\n    const delay = jitter(backoff());\n    retryCount += 1;\n    return delay;\n  }\n\n  stream.connect = function(newContext, newHash, newHandlers) {\n    context = newContext;\n    hash = newHash;\n    handlers = {};\n    for (const key in newHandlers || {}) {\n      handlers[key] = function(e) {\n        // Reset the state for logging the first connection error so that the first\n        // connection error following a successful connection will once again be logged.\n        // We will decorate *all* handlers to do this to keep this abstraction agnostic\n        // for different stream implementations.\n        firstConnectionErrorLogged = false;\n        logConnectionResult(true);\n        newHandlers[key] && newHandlers[key](e);\n      };\n    }\n    tryConnect();\n  };\n\n  stream.disconnect = function() {\n    clearTimeout(reconnectTimeoutReference);\n    reconnectTimeoutReference = null;\n    closeConnection();\n  };\n\n  stream.isConnected = function() {\n    return !!(es && platform.eventSourceIsActive && platform.eventSourceIsActive(es));\n  };\n\n  function handleError(err) {\n    // The event source may not produce a status. But the LaunchDarkly\n    // polyfill can. If we can get the status, then we should stop retrying\n    // on certain error codes.\n    if (err.status && typeof err.status === 'number' && !isHttpErrorRecoverable(err.status)) {\n      // If we encounter an unrecoverable condition, then we do not want to\n      // retry anymore.\n      closeConnection();\n      logger.error(messages.unrecoverableStreamError(err));\n      // Ensure any pending retry attempts are not done.\n      if (reconnectTimeoutReference) {\n        clearTimeout(reconnectTimeoutReference);\n        reconnectTimeoutReference = null;\n      }\n      return;\n    }\n\n    const delay = getNextRetryDelay();\n\n    if (!firstConnectionErrorLogged) {\n      logger.warn(messages.streamError(err, delay));\n      firstConnectionErrorLogged = true;\n    }\n    logConnectionResult(false);\n    closeConnection();\n    tryConnect(delay);\n  }\n\n  function tryConnect(delay) {\n    if (!reconnectTimeoutReference) {\n      if (delay) {\n        reconnectTimeoutReference = setTimeout(openConnection, delay);\n      } else {\n        openConnection();\n      }\n    }\n  }\n\n  function openConnection() {\n    reconnectTimeoutReference = null;\n    let url;\n    let query = '';\n    const options = { headers, readTimeoutMillis: streamReadTimeoutMillis };\n    if (platform.eventSourceFactory) {\n      if (hash !== null && hash !== undefined) {\n        query = 'h=' + hash;\n      }\n      if (useReport) {\n        if (platform.eventSourceAllowsReport) {\n          url = evalUrlPrefix;\n          options.method = 'REPORT';\n          options.headers['Content-Type'] = 'application/json';\n          options.body = JSON.stringify(context);\n        } else {\n          // if we can't do REPORT, fall back to the old ping-based stream\n          url = appendUrlPath(baseUrl, '/ping/' + environment);\n          query = '';\n        }\n      } else {\n        url = evalUrlPrefix + '/' + base64URLEncode(JSON.stringify(context));\n      }\n      options.headers = transformHeaders(options.headers, config);\n      if (withReasons) {\n        query = query + (query ? '&' : '') + 'withReasons=true';\n      }\n      url = url + (query ? '?' : '') + query;\n\n      closeConnection();\n      logger.info(messages.streamConnecting(url));\n      logConnectionStarted();\n\n      es = platform.eventSourceFactory(url, options);\n      for (const key in handlers) {\n        if (objectHasOwnProperty(handlers, key)) {\n          es.addEventListener(key, handlers[key]);\n        }\n      }\n\n      es.onerror = handleError;\n\n      es.onopen = () => {\n        // If the connection is a success, then reset the retryCount.\n        retryCount = 0;\n      };\n    }\n  }\n\n  function closeConnection() {\n    if (es) {\n      logger.info(messages.streamClosing());\n      es.close();\n      es = null;\n    }\n  }\n\n  function logConnectionStarted() {\n    connectionAttemptStartTime = new Date().getTime();\n  }\n\n  function logConnectionResult(success) {\n    if (connectionAttemptStartTime && diagnosticsAccumulator) {\n      diagnosticsAccumulator.recordStreamInit(\n        connectionAttemptStartTime,\n        !success,\n        new Date().getTime() - connectionAttemptStartTime\n      );\n    }\n    connectionAttemptStartTime = null;\n  }\n\n  return stream;\n}\n\nmodule.exports = Stream;\n", "// This function allows a series of Promises to be coalesced such that only the most recently\n// added one actually matters. For instance, if several HTTP requests are made to the same\n// endpoint and we want to ensure that whoever made each one always gets the latest data, each\n// can be passed to addPromise (on the same coalescer) and each caller can wait on the\n// coalescer.resultPromise; all three will then receive the result (or error) from the *last*\n// request, and the results of the first two will be discarded.\n//\n// The cancelFn callback, if present, will be called whenever an existing promise is being\n// discarded. This can be used for instance to abort an HTTP request that's now obsolete.\n//\n// The finallyFn callback, if present, is called on completion of the whole thing. This is\n// different from calling coalescer.resultPromise.finally() because it is executed before any\n// other handlers. Its purpose is to tell the caller that this coalescer should no longer be used.\n\nfunction promiseCoalescer(finallyFn) {\n  let currentPromise;\n  let currentCancelFn;\n  let finalResolve;\n  let finalReject;\n\n  const coalescer = {};\n\n  coalescer.addPromise = (p, cancelFn) => {\n    currentPromise = p;\n    currentCancelFn && currentCancelFn();\n    currentCancelFn = cancelFn;\n\n    p.then(\n      result => {\n        if (currentPromise === p) {\n          finalResolve(result);\n          finallyFn && finallyFn();\n        }\n      },\n      error => {\n        if (currentPromise === p) {\n          finalReject(error);\n          finallyFn && finallyFn();\n        }\n      }\n    );\n  };\n\n  coalescer.resultPromise = new Promise((resolve, reject) => {\n    finalResolve = resolve;\n    finalReject = reject;\n  });\n\n  return coalescer;\n}\n\nmodule.exports = promiseCoalescer;\n", "const utils = require('./utils');\nconst errors = require('./errors');\nconst messages = require('./messages');\nconst promiseCoalescer = require('./promiseCoalescer');\nconst { transformHeaders, getLDHeaders } = require('./headers');\n\nconst jsonContentType = 'application/json';\n\nfunction getResponseError(result) {\n  if (result.status === 404) {\n    return new errors.LDInvalidEnvironmentIdError(messages.environmentNotFound());\n  } else {\n    return new errors.LDFlagFetchError(messages.errorFetchingFlags(result.statusText || String(result.status)));\n  }\n}\n\nfunction Requestor(platform, options, environment) {\n  const baseUrl = options.baseUrl;\n  const useReport = options.useReport;\n  const withReasons = options.evaluationReasons;\n  const logger = options.logger;\n\n  const requestor = {};\n\n  const activeRequests = {}; // map of URLs to promiseCoalescers\n\n  function fetchJSON(endpoint, body) {\n    if (!platform.httpRequest) {\n      return new Promise((resolve, reject) => {\n        reject(new errors.LDFlagFetchError(messages.httpUnavailable()));\n      });\n    }\n\n    const method = body ? 'REPORT' : 'GET';\n    const headers = getLDHeaders(platform, options);\n    if (body) {\n      headers['Content-Type'] = jsonContentType;\n    }\n\n    let coalescer = activeRequests[endpoint];\n    if (!coalescer) {\n      coalescer = promiseCoalescer(() => {\n        // this will be called once there are no more active requests for the same endpoint\n        delete activeRequests[endpoint];\n      });\n      activeRequests[endpoint] = coalescer;\n    }\n\n    const req = platform.httpRequest(method, endpoint, transformHeaders(headers, options), body);\n    const p = req.promise.then(\n      result => {\n        if (result.status === 200) {\n          // We're using substring here because using startsWith would require a polyfill in IE.\n          if (\n            result.header('content-type') &&\n            result.header('content-type').substring(0, jsonContentType.length) === jsonContentType\n          ) {\n            return JSON.parse(result.body);\n          } else {\n            const message = messages.invalidContentType(result.header('content-type') || '');\n            return Promise.reject(new errors.LDFlagFetchError(message));\n          }\n        } else {\n          return Promise.reject(getResponseError(result));\n        }\n      },\n      e => Promise.reject(new errors.LDFlagFetchError(messages.networkError(e)))\n    );\n    coalescer.addPromise(p, () => {\n      // this will be called if another request for the same endpoint supersedes this one\n      req.cancel && req.cancel();\n    });\n    return coalescer.resultPromise;\n  }\n\n  // Performs a GET request to an arbitrary path under baseUrl. Returns a Promise which will resolve\n  // with the parsed JSON response, or will be rejected if the request failed.\n  requestor.fetchJSON = function(path) {\n    return fetchJSON(utils.appendUrlPath(baseUrl, path), null);\n  };\n\n  // Requests the current state of all flags for the given context from LaunchDarkly. Returns a Promise\n  // which will resolve with the parsed JSON response, or will be rejected if the request failed.\n  requestor.fetchFlagSettings = function(context, hash) {\n    let data;\n    let endpoint;\n    let query = '';\n    let body;\n\n    if (useReport) {\n      endpoint = [baseUrl, '/sdk/evalx/', environment, '/context'].join('');\n      body = JSON.stringify(context);\n    } else {\n      data = utils.base64URLEncode(JSON.stringify(context));\n      endpoint = [baseUrl, '/sdk/evalx/', environment, '/contexts/', data].join('');\n    }\n    if (hash) {\n      query = 'h=' + hash;\n    }\n    if (withReasons) {\n      query = query + (query ? '&' : '') + 'withReasons=true';\n    }\n    endpoint = endpoint + (query ? '?' : '') + query;\n    logger.debug(messages.debugPolling(endpoint));\n\n    return fetchJSON(endpoint, body);\n  };\n\n  return requestor;\n}\n\nmodule.exports = Requestor;\n", "const utils = require('./utils');\n\nfunction Identity(initialContext, onChange) {\n  const ident = {};\n  let context;\n\n  ident.setContext = function(c) {\n    context = utils.sanitizeContext(c);\n    if (context && onChange) {\n      onChange(utils.clone(context));\n    }\n  };\n\n  ident.getContext = function() {\n    return context ? utils.clone(context) : null;\n  };\n\n  if (initialContext) {\n    ident.setContext(initialContext);\n  }\n\n  return ident;\n}\n\nmodule.exports = Identity;\n", "const { v1: uuidv1 } = require('uuid');\nconst { getContextKinds } = require('./context');\n\nconst errors = require('./errors');\nconst messages = require('./messages');\nconst utils = require('./utils');\n\nconst ldUserIdKey = 'ld:$anonUserId';\n\n/**\n * Create an object which can process a context and populate any required keys\n * for anonymous objects.\n *\n * @param {Object} persistentStorage The persistent storage from which to store\n * and access persisted anonymous context keys.\n * @returns An AnonymousContextProcessor.\n */\nfunction AnonymousContextProcessor(persistentStorage) {\n  function getContextKeyIdString(kind) {\n    if (kind === undefined || kind === null || kind === 'user') {\n      return ldUserIdKey;\n    }\n    return `ld:$contextKey:${kind}`;\n  }\n\n  function getCachedContextKey(kind) {\n    return persistentStorage.get(getContextKeyIdString(kind));\n  }\n\n  function setCachedContextKey(id, kind) {\n    return persistentStorage.set(getContextKeyIdString(kind), id);\n  }\n\n  /**\n   * Process a single kind context, or a single context within a multi-kind context.\n   * @param {string} kind The kind of the context. Independent because the kind is not prevent\n   * within a context in a multi-kind context.\n   * @param {Object} context\n   * @returns {Promise} a promise that resolves to a processed contexts, or rejects\n   * a context which cannot be processed.\n   */\n  function processSingleKindContext(kind, context) {\n    // We are working on a copy of an original context, so we want to re-assign\n    // versus duplicating it again.\n\n    /* eslint-disable no-param-reassign */\n    if (context.key !== null && context.key !== undefined) {\n      context.key = context.key.toString();\n      return Promise.resolve(context);\n    }\n\n    if (context.anonymous) {\n      // If the key doesn't exist, then the persistent storage will resolve\n      // with undefined.\n      return getCachedContextKey(kind).then(cachedId => {\n        if (cachedId) {\n          context.key = cachedId;\n          return context;\n        } else {\n          const id = uuidv1();\n          context.key = id;\n          return setCachedContextKey(id, kind).then(() => context);\n        }\n      });\n    } else {\n      return Promise.reject(new errors.LDInvalidUserError(messages.invalidContext()));\n    }\n    /* eslint-enable no-param-reassign */\n  }\n\n  /**\n   * Process the context, returning a Promise that resolves to the processed context, or rejects if there is an error.\n   * @param {Object} context\n   * @returns {Promise} A promise which resolves to a processed context, or a rejection if the context cannot be\n   * processed. The context should still be checked for overall validity after being processed.\n   */\n  this.processContext = context => {\n    if (!context) {\n      return Promise.reject(new errors.LDInvalidUserError(messages.contextNotSpecified()));\n    }\n\n    const processedContext = utils.clone(context);\n\n    if (context.kind === 'multi') {\n      const kinds = getContextKinds(processedContext);\n\n      return Promise.all(kinds.map(kind => processSingleKindContext(kind, processedContext[kind]))).then(\n        () => processedContext\n      );\n    }\n    return processSingleKindContext(context.kind, processedContext);\n  };\n}\n\nmodule.exports = AnonymousContextProcessor;\n", "const { v1: uuidv1 } = require('uuid');\n// Note that in the diagnostic events spec, these IDs are to be generated with UUID v4. However,\n// in JS we were already using v1 for unique context keys, so to avoid bringing in two packages we\n// will use v1 here as well.\n\nconst { baseOptionDefs } = require('./configuration');\nconst messages = require('./messages');\nconst { appendUrlPath } = require('./utils');\n\nfunction DiagnosticId(sdkKey) {\n  const ret = {\n    diagnosticId: uuidv1(),\n  };\n  if (sdkKey) {\n    ret.sdkKeySuffix = sdkKey.length > 6 ? sdkKey.substring(sdkKey.length - 6) : sdkKey;\n  }\n  return ret;\n}\n\n// A stateful object holding statistics that will go into diagnostic events.\n\nfunction DiagnosticsAccumulator(startTime) {\n  let dataSinceDate, droppedEvents, eventsInLastBatch, streamInits;\n\n  function reset(time) {\n    dataSinceDate = time;\n    droppedEvents = 0;\n    eventsInLastBatch = 0;\n    streamInits = [];\n  }\n\n  reset(startTime);\n\n  return {\n    getProps: () => ({\n      dataSinceDate,\n      droppedEvents,\n      eventsInLastBatch,\n      streamInits,\n      // omit deduplicatedUsers for the JS SDKs because they don't deduplicate users\n    }),\n    setProps: props => {\n      dataSinceDate = props.dataSinceDate;\n      droppedEvents = props.droppedEvents || 0;\n      eventsInLastBatch = props.eventsInLastBatch || 0;\n      streamInits = props.streamInits || [];\n    },\n    incrementDroppedEvents: () => {\n      droppedEvents++;\n    },\n    setEventsInLastBatch: n => {\n      eventsInLastBatch = n;\n    },\n    recordStreamInit: (timestamp, failed, durationMillis) => {\n      const info = { timestamp, failed, durationMillis };\n      streamInits.push(info);\n    },\n    reset,\n  };\n}\n\n// An object that maintains information that will go into diagnostic events, and knows how to format\n// those events. It is instantiated by the SDK client, and shared with the event processor.\n//\n// The JS-based SDKs have two modes for diagnostic events. By default, the behavior is basically the\n// same as the server-side SDKs: a \"diagnostic-init\" event is sent on startup, and then \"diagnostic\"\n// events with operating statistics are sent periodically. However, in a browser environment this is\n// undesirable because the page may be reloaded frequently. In that case, setting the property\n// \"platform.diagnosticUseCombinedEvent\" to true enables an alternate mode in which a combination of\n// both kinds of event is sent at intervals, relative to the last time this was done (if any) which\n// is cached in local storage.\n\nfunction DiagnosticsManager(\n  platform,\n  persistentStorage,\n  accumulator,\n  eventSender,\n  environmentId,\n  config,\n  diagnosticId\n) {\n  const combinedMode = !!platform.diagnosticUseCombinedEvent;\n  const localStorageKey = 'ld:' + environmentId + ':$diagnostics';\n  const diagnosticEventsUrl = appendUrlPath(config.eventsUrl, '/events/diagnostic/' + environmentId);\n  const periodicInterval = config.diagnosticRecordingInterval;\n  const acc = accumulator;\n  const initialEventSamplingInterval = 4; // used only in combined mode - see start()\n  let streamingEnabled = !!config.streaming;\n  let eventSentTime;\n  let periodicTimer;\n  const manager = {};\n\n  function makeInitProperties() {\n    return {\n      sdk: makeSdkData(),\n      configuration: makeConfigData(),\n      platform: platform.diagnosticPlatformData,\n    };\n  }\n\n  // Send a diagnostic event and do not wait for completion.\n  function sendDiagnosticEvent(event) {\n    config.logger && config.logger.debug(messages.debugPostingDiagnosticEvent(event));\n    eventSender\n      .sendEvents(event, diagnosticEventsUrl, true)\n      .then(() => undefined)\n      .catch(() => undefined);\n  }\n\n  function loadProperties(callback) {\n    if (!persistentStorage.isEnabled()) {\n      return callback(false); // false indicates that local storage is not available\n    }\n    persistentStorage\n      .get(localStorageKey)\n      .then(data => {\n        if (data) {\n          try {\n            const props = JSON.parse(data);\n            acc.setProps(props);\n            eventSentTime = props.dataSinceDate;\n          } catch (e) {\n            // disregard malformed cached data\n          }\n        }\n        callback(true);\n      })\n      .catch(() => {\n        callback(false);\n      });\n  }\n\n  function saveProperties() {\n    if (persistentStorage.isEnabled()) {\n      const props = { ...acc.getProps() };\n      persistentStorage.set(localStorageKey, JSON.stringify(props));\n    }\n  }\n\n  // Creates the initial event that is sent by the event processor when the SDK starts up. This will not\n  // be repeated during the lifetime of the SDK client. In combined mode, we don't send this.\n  function createInitEvent() {\n    return {\n      kind: 'diagnostic-init',\n      id: diagnosticId,\n      creationDate: acc.getProps().dataSinceDate,\n      ...makeInitProperties(),\n    };\n  }\n\n  // Creates a periodic event containing time-dependent stats, and resets the state of the manager with\n  // regard to those stats. In combined mode (browser SDK) this also contains the configuration data.\n  function createPeriodicEventAndReset() {\n    const currentTime = new Date().getTime();\n    let ret = {\n      kind: combinedMode ? 'diagnostic-combined' : 'diagnostic',\n      id: diagnosticId,\n      creationDate: currentTime,\n      ...acc.getProps(),\n    };\n    if (combinedMode) {\n      ret = { ...ret, ...makeInitProperties() };\n    }\n    acc.reset(currentTime);\n    return ret;\n  }\n\n  function sendPeriodicEvent() {\n    sendDiagnosticEvent(createPeriodicEventAndReset());\n    periodicTimer = setTimeout(sendPeriodicEvent, periodicInterval);\n    eventSentTime = new Date().getTime();\n    if (combinedMode) {\n      saveProperties();\n    }\n  }\n\n  function makeSdkData() {\n    const sdkData = { ...platform.diagnosticSdkData };\n    if (config.wrapperName) {\n      sdkData.wrapperName = config.wrapperName;\n    }\n    if (config.wrapperVersion) {\n      sdkData.wrapperVersion = config.wrapperVersion;\n    }\n    return sdkData;\n  }\n\n  function makeConfigData() {\n    const configData = {\n      customBaseURI: config.baseUrl !== baseOptionDefs.baseUrl.default,\n      customStreamURI: config.streamUrl !== baseOptionDefs.streamUrl.default,\n      customEventsURI: config.eventsUrl !== baseOptionDefs.eventsUrl.default,\n      eventsCapacity: config.eventCapacity,\n      eventsFlushIntervalMillis: config.flushInterval,\n      reconnectTimeMillis: config.streamReconnectDelay,\n      streamingDisabled: !streamingEnabled,\n      allAttributesPrivate: !!config.allAttributesPrivate,\n      diagnosticRecordingIntervalMillis: config.diagnosticRecordingInterval,\n      // The following extra properties are only provided by client-side JS SDKs:\n      usingSecureMode: !!config.hash,\n      bootstrapMode: !!config.bootstrap,\n      fetchGoalsDisabled: !config.fetchGoals,\n      sendEventsOnlyForVariation: !!config.sendEventsOnlyForVariation,\n    };\n    // Client-side JS SDKs do not have the following properties which other SDKs have:\n    // connectTimeoutMillis\n    // pollingIntervalMillis\n    // samplingInterval\n    // socketTimeoutMillis\n    // startWaitMillis\n    // userKeysCapacity\n    // userKeysFlushIntervalMillis\n    // usingProxy\n    // usingProxyAuthenticator\n    // usingRelayDaemon\n\n    return configData;\n  }\n\n  // Called when the SDK is starting up. Either send an init event immediately, or, in the alternate\n  // mode, check for cached local storage properties and send an event only if we haven't done so\n  // recently.\n  manager.start = () => {\n    if (combinedMode) {\n      loadProperties(localStorageAvailable => {\n        if (localStorageAvailable) {\n          const nextEventTime = (eventSentTime || 0) + periodicInterval;\n          const timeNow = new Date().getTime();\n          if (timeNow >= nextEventTime) {\n            sendPeriodicEvent();\n          } else {\n            periodicTimer = setTimeout(sendPeriodicEvent, nextEventTime - timeNow);\n          }\n        } else {\n          // We don't have the ability to cache anything in local storage, so we don't know if we\n          // recently sent an event before this page load, but we would still prefer not to send one\n          // on *every* page load. So, as a rough heuristic, we'll decide semi-randomly.\n          if (Math.floor(Math.random() * initialEventSamplingInterval) === 0) {\n            sendPeriodicEvent();\n          } else {\n            periodicTimer = setTimeout(sendPeriodicEvent, periodicInterval);\n          }\n        }\n      });\n    } else {\n      sendDiagnosticEvent(createInitEvent());\n      periodicTimer = setTimeout(sendPeriodicEvent, periodicInterval);\n    }\n  };\n\n  manager.stop = () => {\n    periodicTimer && clearTimeout(periodicTimer);\n  };\n\n  // Called when streaming mode is turned on or off dynamically.\n  manager.setStreaming = enabled => {\n    streamingEnabled = enabled;\n  };\n\n  return manager;\n}\n\nmodule.exports = {\n  DiagnosticId,\n  DiagnosticsAccumulator,\n  DiagnosticsManager,\n};\n", "const messages = require('./messages');\n\n/**\n * Wrap an inspector ensuring that calling its methods are safe.\n * @param {object} inspector Inspector to wrap.\n */\nfunction SafeInspector(inspector, logger) {\n  let errorLogged = false;\n  const wrapper = {\n    type: inspector.type,\n    name: inspector.name,\n  };\n\n  wrapper.method = (...args) => {\n    try {\n      inspector.method(...args);\n    } catch {\n      // If something goes wrong in an inspector we want to log that something\n      // went wrong. We don't want to flood the logs, so we only log something\n      // the first time that something goes wrong.\n      // We do not include the exception in the log, because we do not know what\n      // kind of data it may contain.\n      if (!errorLogged) {\n        errorLogged = true;\n        logger.warn(messages.inspectorMethodError(wrapper.type, wrapper.name));\n      }\n      // Prevent errors.\n    }\n  };\n\n  return wrapper;\n}\n\nmodule.exports = SafeInspector;\n", "const messages = require('./messages');\nconst SafeInspector = require('./SafeInspector');\nconst { onNextTick } = require('./utils');\n\n/**\n * The types of supported inspectors.\n */\nconst InspectorTypes = {\n  flagUsed: 'flag-used',\n  flagDetailsChanged: 'flag-details-changed',\n  flagDetailChanged: 'flag-detail-changed',\n  clientIdentityChanged: 'client-identity-changed',\n};\n\nObject.freeze(InspectorTypes);\n\n/**\n * Manages dispatching of inspection data to registered inspectors.\n */\nfunction InspectorManager(inspectors, logger) {\n  const manager = {};\n\n  /**\n   * Collection of inspectors keyed by type.\n   * @type {{[type: string]: object[]}}\n   */\n  const inspectorsByType = {\n    [InspectorTypes.flagUsed]: [],\n    [InspectorTypes.flagDetailsChanged]: [],\n    [InspectorTypes.flagDetailChanged]: [],\n    [InspectorTypes.clientIdentityChanged]: [],\n  };\n\n  const safeInspectors = inspectors && inspectors.map(inspector => SafeInspector(inspector, logger));\n\n  safeInspectors &&\n    safeInspectors.forEach(safeInspector => {\n      // Only add inspectors of supported types.\n      if (Object.prototype.hasOwnProperty.call(inspectorsByType, safeInspector.type)) {\n        inspectorsByType[safeInspector.type].push(safeInspector);\n      } else {\n        logger.warn(messages.invalidInspector(safeInspector.type, safeInspector.name));\n      }\n    });\n\n  /**\n   * Check if there is an inspector of a specific type registered.\n   *\n   * @param {string} type The type of the inspector to check.\n   * @returns True if there are any inspectors of that type registered.\n   */\n  manager.hasListeners = type => inspectorsByType[type] && inspectorsByType[type].length;\n\n  /**\n   * Notify registered inspectors of a flag being used.\n   *\n   * The notification itself will be dispatched asynchronously.\n   *\n   * @param {string} flagKey The key for the flag.\n   * @param {Object} detail The LDEvaluationDetail for the flag.\n   * @param {Object} context The LDContext for the flag.\n   */\n  manager.onFlagUsed = (flagKey, detail, context) => {\n    if (inspectorsByType[InspectorTypes.flagUsed].length) {\n      onNextTick(() => {\n        inspectorsByType[InspectorTypes.flagUsed].forEach(inspector => inspector.method(flagKey, detail, context));\n      });\n    }\n  };\n\n  /**\n   * Notify registered inspectors that the flags have been replaced.\n   *\n   * The notification itself will be dispatched asynchronously.\n   *\n   * @param {Record<string, Object>} flags The current flags as a Record<string, LDEvaluationDetail>.\n   */\n  manager.onFlags = flags => {\n    if (inspectorsByType[InspectorTypes.flagDetailsChanged].length) {\n      onNextTick(() => {\n        inspectorsByType[InspectorTypes.flagDetailsChanged].forEach(inspector => inspector.method(flags));\n      });\n    }\n  };\n\n  /**\n   * Notify registered inspectors that a flag value has changed.\n   *\n   * The notification itself will be dispatched asynchronously.\n   *\n   * @param {string} flagKey The key for the flag that changed.\n   * @param {Object} flag An `LDEvaluationDetail` for the flag.\n   */\n  manager.onFlagChanged = (flagKey, flag) => {\n    if (inspectorsByType[InspectorTypes.flagDetailChanged].length) {\n      onNextTick(() => {\n        inspectorsByType[InspectorTypes.flagDetailChanged].forEach(inspector => inspector.method(flagKey, flag));\n      });\n    }\n  };\n\n  /**\n   * Notify the registered inspectors that the context identity has changed.\n   *\n   * The notification itself will be dispatched asynchronously.\n   *\n   * @param {Object} context The `LDContext` which is now identified.\n   */\n  manager.onIdentityChanged = context => {\n    if (inspectorsByType[InspectorTypes.clientIdentityChanged].length) {\n      onNextTick(() => {\n        inspectorsByType[InspectorTypes.clientIdentityChanged].forEach(inspector => inspector.method(context));\n      });\n    }\n  };\n\n  return manager;\n}\n\nmodule.exports = { InspectorTypes, InspectorManager };\n", "const EventProcessor = require('./EventProcessor');\nconst EventEmitter = require('./EventEmitter');\nconst EventSender = require('./EventSender');\nconst InitializationStateTracker = require('./InitializationState');\nconst PersistentFlagStore = require('./PersistentFlagStore');\nconst PersistentStorage = require('./PersistentStorage');\nconst Stream = require('./Stream');\nconst Requestor = require('./Requestor');\nconst Identity = require('./Identity');\nconst AnonymousContextProcessor = require('./AnonymousContextProcessor');\nconst configuration = require('./configuration');\nconst diagnostics = require('./diagnosticEvents');\nconst { commonBasicLogger } = require('./loggers');\nconst utils = require('./utils');\nconst errors = require('./errors');\nconst messages = require('./messages');\nconst { checkContext, getContextKeys } = require('./context');\nconst { InspectorTypes, InspectorManager } = require('./InspectorManager');\n\nconst changeEvent = 'change';\nconst internalChangeEvent = 'internal-change';\n\n// This is called by the per-platform initialize functions to create the base client object that we\n// may also extend with additional behavior. It returns an object with these properties:\n//   client: the actual client object\n//   options: the configuration (after any appropriate defaults have been applied)\n// If we need to give the platform-specific clients access to any internals here, we should add those\n// as properties of the return object, not public properties of the client.\n//\n// For definitions of the API in the platform object, see stubPlatform.js in the test code.\n\nfunction initialize(env, context, specifiedOptions, platform, extraOptionDefs) {\n  const logger = createLogger();\n  const emitter = EventEmitter(logger);\n  const initializationStateTracker = InitializationStateTracker(emitter);\n  const options = configuration.validate(specifiedOptions, emitter, extraOptionDefs, logger);\n  const inspectorManager = InspectorManager(options.inspectors, logger);\n  const sendEvents = options.sendEvents;\n  let environment = env;\n  let hash = options.hash;\n\n  const persistentStorage = PersistentStorage(platform.localStorage, logger);\n\n  const eventSender = EventSender(platform, environment, options);\n\n  const diagnosticsEnabled = options.sendEvents && !options.diagnosticOptOut;\n  const diagnosticId = diagnosticsEnabled ? diagnostics.DiagnosticId(environment) : null;\n  const diagnosticsAccumulator = diagnosticsEnabled ? diagnostics.DiagnosticsAccumulator(new Date().getTime()) : null;\n  const diagnosticsManager = diagnosticsEnabled\n    ? diagnostics.DiagnosticsManager(\n        platform,\n        persistentStorage,\n        diagnosticsAccumulator,\n        eventSender,\n        environment,\n        options,\n        diagnosticId\n      )\n    : null;\n\n  const stream = Stream(platform, options, environment, diagnosticsAccumulator);\n\n  const events =\n    options.eventProcessor ||\n    EventProcessor(platform, options, environment, diagnosticsAccumulator, emitter, eventSender);\n\n  const requestor = Requestor(platform, options, environment);\n\n  let flags = {};\n  let useLocalStorage;\n  let streamActive;\n  let streamForcedState = options.streaming;\n  let subscribedToChangeEvents;\n  let inited = false;\n  let closed = false;\n  let firstEvent = true;\n\n  // The \"stateProvider\" object is used in the Electron SDK, to allow one client instance to take partial\n  // control of another. If present, it has the following contract:\n  // - getInitialState() returns the initial client state if it is already available. The state is an\n  //   object whose properties are \"environment\", \"context\", and \"flags\".\n  // - on(\"init\", listener) triggers an event when the initial client state becomes available, passing\n  //   the state object to the listener.\n  // - on(\"update\", listener) triggers an event when flag values change and/or the current context changes.\n  //   The parameter is an object that *may* contain \"context\" and/or \"flags\".\n  // - enqueueEvent(event) accepts an analytics event object and returns true if the stateProvider will\n  //   be responsible for delivering it, or false if we still should deliver it ourselves.\n  const stateProvider = options.stateProvider;\n\n  const ident = Identity(null, onIdentifyChange);\n  const anonymousContextProcessor = new AnonymousContextProcessor(persistentStorage);\n  const persistentFlagStore = persistentStorage.isEnabled()\n    ? PersistentFlagStore(persistentStorage, environment, hash, ident, logger)\n    : null;\n\n  function createLogger() {\n    if (specifiedOptions && specifiedOptions.logger) {\n      return specifiedOptions.logger;\n    }\n    return (extraOptionDefs && extraOptionDefs.logger && extraOptionDefs.logger.default) || commonBasicLogger('warn');\n  }\n\n  function readFlagsFromBootstrap(data) {\n    // If the bootstrap data came from an older server-side SDK, we'll have just a map of keys to values.\n    // Newer SDKs that have an allFlagsState method will provide an extra \"$flagsState\" key that contains\n    // the rest of the metadata we want. We do it this way for backward compatibility with older JS SDKs.\n    const keys = Object.keys(data);\n    const metadataKey = '$flagsState';\n    const validKey = '$valid';\n    const metadata = data[metadataKey];\n    if (!metadata && keys.length) {\n      logger.warn(messages.bootstrapOldFormat());\n    }\n    if (data[validKey] === false) {\n      logger.warn(messages.bootstrapInvalid());\n    }\n    const ret = {};\n    keys.forEach(key => {\n      if (key !== metadataKey && key !== validKey) {\n        let flag = { value: data[key] };\n        if (metadata && metadata[key]) {\n          flag = utils.extend(flag, metadata[key]);\n        } else {\n          flag.version = 0;\n        }\n        ret[key] = flag;\n      }\n    });\n    return ret;\n  }\n\n  function shouldEnqueueEvent() {\n    return sendEvents && !closed && !platform.isDoNotTrack();\n  }\n\n  function enqueueEvent(event) {\n    if (!environment) {\n      // We're in paired mode and haven't been initialized with an environment or context yet\n      return;\n    }\n    if (stateProvider && stateProvider.enqueueEvent && stateProvider.enqueueEvent(event)) {\n      return; // it'll be handled elsewhere\n    }\n\n    if (!event.context) {\n      if (firstEvent) {\n        logger.warn(messages.eventWithoutContext());\n        firstEvent = false;\n      }\n      return;\n    }\n    firstEvent = false;\n\n    if (shouldEnqueueEvent()) {\n      logger.debug(messages.debugEnqueueingEvent(event.kind));\n      events.enqueue(event);\n    }\n  }\n\n  function notifyInspectionFlagUsed(key, detail) {\n    if (inspectorManager.hasListeners(InspectorTypes.flagUsed)) {\n      inspectorManager.onFlagUsed(key, detail, ident.getContext());\n    }\n  }\n\n  function notifyInspectionIdentityChanged() {\n    if (inspectorManager.hasListeners(InspectorTypes.clientIdentityChanged)) {\n      inspectorManager.onIdentityChanged(ident.getContext());\n    }\n  }\n\n  function notifyInspectionFlagChanged(data, newFlag) {\n    if (inspectorManager.hasListeners(InspectorTypes.flagDetailChanged)) {\n      inspectorManager.onFlagChanged(data.key, getFlagDetail(newFlag));\n    }\n  }\n\n  function notifyInspectionFlagsChanged() {\n    if (inspectorManager.hasListeners(InspectorTypes.flagDetailsChanged)) {\n      inspectorManager.onFlags(\n        Object.entries(flags)\n          .map(([key, value]) => ({ key, detail: getFlagDetail(value) }))\n          .reduce((acc, cur) => {\n            // eslint-disable-next-line no-param-reassign\n            acc[cur.key] = cur.detail;\n            return acc;\n          }, {})\n      );\n    }\n  }\n\n  function onIdentifyChange(context) {\n    sendIdentifyEvent(context);\n    notifyInspectionIdentityChanged();\n  }\n\n  function sendIdentifyEvent(context) {\n    if (stateProvider) {\n      // In paired mode, the other client is responsible for sending identify events\n      return;\n    }\n    if (context) {\n      enqueueEvent({\n        kind: 'identify',\n        context,\n        creationDate: new Date().getTime(),\n      });\n    }\n  }\n\n  function sendFlagEvent(key, detail, defaultValue, includeReason) {\n    const context = ident.getContext();\n    const now = new Date();\n    const value = detail ? detail.value : null;\n\n    const event = {\n      kind: 'feature',\n      key: key,\n      context,\n      value: value,\n      variation: detail ? detail.variationIndex : null,\n      default: defaultValue,\n      creationDate: now.getTime(),\n    };\n    const flag = flags[key];\n    if (flag) {\n      event.version = flag.flagVersion ? flag.flagVersion : flag.version;\n      event.trackEvents = flag.trackEvents;\n      event.debugEventsUntilDate = flag.debugEventsUntilDate;\n    }\n    if ((includeReason || (flag && flag.trackReason)) && detail) {\n      event.reason = detail.reason;\n    }\n\n    enqueueEvent(event);\n  }\n\n  function verifyContext(context) {\n    // The context will already have been processed to have a string key, so we\n    // do not need to allow for legacy keys in the check.\n    if (checkContext(context, false)) {\n      return Promise.resolve(context);\n    } else {\n      return Promise.reject(new errors.LDInvalidUserError(messages.invalidContext()));\n    }\n  }\n\n  function identify(context, newHash, onDone) {\n    if (closed) {\n      return utils.wrapPromiseCallback(Promise.resolve({}), onDone);\n    }\n    if (stateProvider) {\n      // We're being controlled by another client instance, so only that instance is allowed to change the context\n      logger.warn(messages.identifyDisabled());\n      return utils.wrapPromiseCallback(Promise.resolve(utils.transformVersionedValuesToValues(flags)), onDone);\n    }\n    const clearFirst = useLocalStorage && persistentFlagStore ? persistentFlagStore.clearFlags() : Promise.resolve();\n    return utils.wrapPromiseCallback(\n      clearFirst\n        .then(() => anonymousContextProcessor.processContext(context))\n        .then(verifyContext)\n        .then(validatedContext =>\n          requestor\n            .fetchFlagSettings(validatedContext, newHash)\n            // the following then() is nested within this one so we can use realUser from the previous closure\n            .then(requestedFlags => {\n              const flagValueMap = utils.transformVersionedValuesToValues(requestedFlags);\n              ident.setContext(validatedContext);\n              hash = newHash;\n              if (requestedFlags) {\n                return replaceAllFlags(requestedFlags).then(() => flagValueMap);\n              } else {\n                return flagValueMap;\n              }\n            })\n        )\n        .then(flagValueMap => {\n          if (streamActive) {\n            connectStream();\n          }\n          return flagValueMap;\n        })\n        .catch(err => {\n          emitter.maybeReportError(err);\n          return Promise.reject(err);\n        }),\n      onDone\n    );\n  }\n\n  function getContext() {\n    return ident.getContext();\n  }\n\n  function flush(onDone) {\n    return utils.wrapPromiseCallback(sendEvents ? events.flush() : Promise.resolve(), onDone);\n  }\n\n  function variation(key, defaultValue) {\n    return variationDetailInternal(key, defaultValue, true, false, false).value;\n  }\n\n  function variationDetail(key, defaultValue) {\n    return variationDetailInternal(key, defaultValue, true, true, false);\n  }\n\n  function variationDetailInternal(key, defaultValue, sendEvent, includeReasonInEvent, isAllFlags) {\n    let detail;\n\n    if (flags && utils.objectHasOwnProperty(flags, key) && flags[key] && !flags[key].deleted) {\n      const flag = flags[key];\n      detail = getFlagDetail(flag);\n      if (flag.value === null || flag.value === undefined) {\n        detail.value = defaultValue;\n      }\n    } else {\n      detail = { value: defaultValue, variationIndex: null, reason: { kind: 'ERROR', errorKind: 'FLAG_NOT_FOUND' } };\n    }\n\n    if (sendEvent) {\n      sendFlagEvent(key, detail, defaultValue, includeReasonInEvent);\n    }\n\n    // For the all flags case `onFlags` will be called instead.\n    if (!isAllFlags) {\n      notifyInspectionFlagUsed(key, detail);\n    }\n\n    return detail;\n  }\n\n  function getFlagDetail(flag) {\n    return {\n      value: flag.value,\n      variationIndex: flag.variation === undefined ? null : flag.variation,\n      reason: flag.reason || null,\n    };\n    // Note, the logic above ensures that variationIndex and reason will always be null rather than\n    // undefined if we don't have values for them. That's just to avoid subtle errors that depend on\n    // whether an object was JSON-encoded with null properties omitted or not.\n  }\n\n  function allFlags() {\n    const results = {};\n\n    if (!flags) {\n      return results;\n    }\n\n    for (const key in flags) {\n      if (utils.objectHasOwnProperty(flags, key) && !flags[key].deleted) {\n        results[key] = variationDetailInternal(key, null, !options.sendEventsOnlyForVariation, false, true).value;\n      }\n    }\n\n    return results;\n  }\n\n  function userContextKind(user) {\n    return user.anonymous ? 'anonymousUser' : 'user';\n  }\n\n  function track(key, data, metricValue) {\n    if (typeof key !== 'string') {\n      emitter.maybeReportError(new errors.LDInvalidEventKeyError(messages.unknownCustomEventKey(key)));\n      return;\n    }\n\n    // The following logic was used only for the JS browser SDK (js-client-sdk) and\n    // is no longer needed as of version 2.9.13 of that SDK. The other client-side\n    // JS-based SDKs did not define customEventFilter, and now none of them do. We\n    // can remove this in the next major version of the common code, when it's OK to\n    // make breaking changes to our internal API contracts.\n    if (platform.customEventFilter && !platform.customEventFilter(key)) {\n      logger.warn(messages.unknownCustomEventKey(key));\n    }\n\n    const context = ident.getContext();\n    const e = {\n      kind: 'custom',\n      key: key,\n      context,\n      url: platform.getCurrentUrl(),\n      creationDate: new Date().getTime(),\n    };\n    if (context && context.anonymous) {\n      e.contextKind = userContextKind(context);\n    }\n    // Note, check specifically for null/undefined because it is legal to set these fields to a falsey value.\n    if (data !== null && data !== undefined) {\n      e.data = data;\n    }\n    if (metricValue !== null && metricValue !== undefined) {\n      e.metricValue = metricValue;\n    }\n    enqueueEvent(e);\n  }\n\n  function connectStream() {\n    streamActive = true;\n    if (!ident.getContext()) {\n      return;\n    }\n    const tryParseData = jsonData => {\n      try {\n        return JSON.parse(jsonData);\n      } catch (err) {\n        emitter.maybeReportError(new errors.LDInvalidDataError(messages.invalidData()));\n        return undefined;\n      }\n    };\n    stream.connect(ident.getContext(), hash, {\n      ping: function() {\n        logger.debug(messages.debugStreamPing());\n        const contextAtTimeOfPingEvent = ident.getContext();\n        requestor\n          .fetchFlagSettings(contextAtTimeOfPingEvent, hash)\n          .then(requestedFlags => {\n            // Check whether the current context is still the same - we don't want to overwrite the flags if\n            // the application has called identify() while this request was in progress\n            if (utils.deepEquals(contextAtTimeOfPingEvent, ident.getContext())) {\n              replaceAllFlags(requestedFlags || {});\n            }\n          })\n          .catch(err => {\n            emitter.maybeReportError(new errors.LDFlagFetchError(messages.errorFetchingFlags(err)));\n          });\n      },\n      put: function(e) {\n        const data = tryParseData(e.data);\n        if (!data) {\n          return;\n        }\n        logger.debug(messages.debugStreamPut());\n        replaceAllFlags(data);\n        // Don't wait for this Promise to be resolved; note that replaceAllFlags is guaranteed\n        // never to have an unhandled rejection\n      },\n      patch: function(e) {\n        const data = tryParseData(e.data);\n        if (!data) {\n          return;\n        }\n        // If both the flag and the patch have a version property, then the patch version must be\n        // greater than the flag version for us to accept the patch.  If either one has no version\n        // then the patch always succeeds.\n        const oldFlag = flags[data.key];\n        if (!oldFlag || !oldFlag.version || !data.version || oldFlag.version < data.version) {\n          logger.debug(messages.debugStreamPatch(data.key));\n          const mods = {};\n          const newFlag = utils.extend({}, data);\n          delete newFlag['key'];\n          flags[data.key] = newFlag;\n          const newDetail = getFlagDetail(newFlag);\n          if (oldFlag) {\n            mods[data.key] = { previous: oldFlag.value, current: newDetail };\n          } else {\n            mods[data.key] = { current: newDetail };\n          }\n          handleFlagChanges(mods); // don't wait for this Promise to be resolved\n          notifyInspectionFlagChanged(data, newFlag);\n        } else {\n          logger.debug(messages.debugStreamPatchIgnored(data.key));\n        }\n      },\n      delete: function(e) {\n        const data = tryParseData(e.data);\n        if (!data) {\n          return;\n        }\n        if (!flags[data.key] || flags[data.key].version < data.version) {\n          logger.debug(messages.debugStreamDelete(data.key));\n          const mods = {};\n          if (flags[data.key] && !flags[data.key].deleted) {\n            mods[data.key] = { previous: flags[data.key].value };\n          }\n          flags[data.key] = { version: data.version, deleted: true };\n          notifyInspectionFlagChanged(data, flags[data.key]);\n          handleFlagChanges(mods); // don't wait for this Promise to be resolved\n        } else {\n          logger.debug(messages.debugStreamDeleteIgnored(data.key));\n        }\n      },\n    });\n  }\n\n  function disconnectStream() {\n    if (streamActive) {\n      stream.disconnect();\n      streamActive = false;\n    }\n  }\n\n  // Returns a Promise which will be resolved when we have completely updated the internal flags state,\n  // dispatched all change events, and updated local storage if appropriate. This Promise is guaranteed\n  // never to have an unhandled rejection.\n  function replaceAllFlags(newFlags) {\n    const changes = {};\n\n    if (!newFlags) {\n      return Promise.resolve();\n    }\n\n    for (const key in flags) {\n      if (utils.objectHasOwnProperty(flags, key) && flags[key]) {\n        if (newFlags[key] && !utils.deepEquals(newFlags[key].value, flags[key].value)) {\n          changes[key] = { previous: flags[key].value, current: getFlagDetail(newFlags[key]) };\n        } else if (!newFlags[key] || newFlags[key].deleted) {\n          changes[key] = { previous: flags[key].value };\n        }\n      }\n    }\n    for (const key in newFlags) {\n      if (utils.objectHasOwnProperty(newFlags, key) && newFlags[key] && (!flags[key] || flags[key].deleted)) {\n        changes[key] = { current: getFlagDetail(newFlags[key]) };\n      }\n    }\n\n    flags = { ...newFlags };\n\n    notifyInspectionFlagsChanged();\n\n    return handleFlagChanges(changes).catch(() => {}); // swallow any exceptions from this Promise\n  }\n\n  // Returns a Promise which will be resolved when we have dispatched all change events and updated\n  // local storage if appropriate.\n  function handleFlagChanges(changes) {\n    const keys = Object.keys(changes);\n\n    if (keys.length > 0) {\n      const changeEventParams = {};\n      keys.forEach(key => {\n        const current = changes[key].current;\n        const value = current ? current.value : undefined;\n        const previous = changes[key].previous;\n        emitter.emit(changeEvent + ':' + key, value, previous);\n        changeEventParams[key] = current ? { current: value, previous: previous } : { previous: previous };\n      });\n\n      emitter.emit(changeEvent, changeEventParams);\n      emitter.emit(internalChangeEvent, flags);\n\n      // By default, we send feature evaluation events whenever we have received new flag values -\n      // the client has in effect evaluated these flags just by receiving them. This can be suppressed\n      // by setting \"sendEventsOnlyForVariation\". Also, if we have a stateProvider, we don't send these\n      // events because we assume they have already been sent by the other client that gave us the flags\n      // (when it received them in the first place).\n      if (!options.sendEventsOnlyForVariation && !stateProvider) {\n        keys.forEach(key => {\n          sendFlagEvent(key, changes[key].current);\n        });\n      }\n    }\n\n    if (useLocalStorage && persistentFlagStore) {\n      return persistentFlagStore.saveFlags(flags);\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  function on(event, handler, context) {\n    if (isChangeEventKey(event)) {\n      subscribedToChangeEvents = true;\n      if (inited) {\n        updateStreamingState();\n      }\n      emitter.on(event, handler, context);\n    } else {\n      emitter.on(...arguments);\n    }\n  }\n\n  function off(event) {\n    emitter.off(...arguments);\n    if (isChangeEventKey(event)) {\n      let haveListeners = false;\n      emitter.getEvents().forEach(key => {\n        if (isChangeEventKey(key) && emitter.getEventListenerCount(key) > 0) {\n          haveListeners = true;\n        }\n      });\n      if (!haveListeners) {\n        subscribedToChangeEvents = false;\n        if (streamActive && streamForcedState === undefined) {\n          disconnectStream();\n        }\n      }\n    }\n  }\n\n  function setStreaming(state) {\n    const newState = state === null ? undefined : state;\n    if (newState !== streamForcedState) {\n      streamForcedState = newState;\n      updateStreamingState();\n    }\n  }\n\n  function updateStreamingState() {\n    const shouldBeStreaming = streamForcedState || (subscribedToChangeEvents && streamForcedState === undefined);\n    if (shouldBeStreaming && !streamActive) {\n      connectStream();\n    } else if (!shouldBeStreaming && streamActive) {\n      disconnectStream();\n    }\n    if (diagnosticsManager) {\n      diagnosticsManager.setStreaming(shouldBeStreaming);\n    }\n  }\n\n  function isChangeEventKey(event) {\n    return event === changeEvent || event.substr(0, changeEvent.length + 1) === changeEvent + ':';\n  }\n\n  if (typeof options.bootstrap === 'string' && options.bootstrap.toUpperCase() === 'LOCALSTORAGE') {\n    if (persistentFlagStore) {\n      useLocalStorage = true;\n    } else {\n      logger.warn(messages.localStorageUnavailable());\n    }\n  }\n\n  if (typeof options.bootstrap === 'object') {\n    // Set the flags as soon as possible before we get into any async code, so application code can read\n    // them even if the ready event has not yet fired.\n    flags = readFlagsFromBootstrap(options.bootstrap);\n  }\n\n  if (stateProvider) {\n    // The stateProvider option is used in the Electron SDK, to allow a client instance in the main process\n    // to control another client instance (i.e. this one) in the renderer process. We can't predict which\n    // one will start up first, so the initial state may already be available for us or we may have to wait\n    // to receive it.\n    const state = stateProvider.getInitialState();\n    if (state) {\n      initFromStateProvider(state);\n    } else {\n      stateProvider.on('init', initFromStateProvider);\n    }\n    stateProvider.on('update', updateFromStateProvider);\n  } else {\n    finishInit().catch(signalFailedInit);\n  }\n\n  function finishInit() {\n    if (!env) {\n      return Promise.reject(new errors.LDInvalidEnvironmentIdError(messages.environmentNotSpecified()));\n    }\n    return anonymousContextProcessor\n      .processContext(context)\n      .then(verifyContext)\n      .then(validatedContext => {\n        ident.setContext(validatedContext);\n        if (typeof options.bootstrap === 'object') {\n          // flags have already been set earlier\n          return signalSuccessfulInit();\n        } else if (useLocalStorage) {\n          return finishInitWithLocalStorage();\n        } else {\n          return finishInitWithPolling();\n        }\n      });\n  }\n\n  function finishInitWithLocalStorage() {\n    return persistentFlagStore.loadFlags().then(storedFlags => {\n      if (storedFlags === null || storedFlags === undefined) {\n        flags = {};\n        return requestor\n          .fetchFlagSettings(ident.getContext(), hash)\n          .then(requestedFlags => replaceAllFlags(requestedFlags || {}))\n          .then(signalSuccessfulInit)\n          .catch(err => {\n            const initErr = new errors.LDFlagFetchError(messages.errorFetchingFlags(err));\n            signalFailedInit(initErr);\n          });\n      } else {\n        // We're reading the flags from local storage. Signal that we're ready,\n        // then update localStorage for the next page load. We won't signal changes or update\n        // the in-memory flags unless you subscribe for changes\n        flags = storedFlags;\n        utils.onNextTick(signalSuccessfulInit);\n\n        return requestor\n          .fetchFlagSettings(ident.getContext(), hash)\n          .then(requestedFlags => replaceAllFlags(requestedFlags))\n          .catch(err => emitter.maybeReportError(err));\n      }\n    });\n  }\n\n  function finishInitWithPolling() {\n    return requestor\n      .fetchFlagSettings(ident.getContext(), hash)\n      .then(requestedFlags => {\n        flags = requestedFlags || {};\n\n        notifyInspectionFlagsChanged();\n        // Note, we don't need to call updateSettings here because local storage and change events are not relevant\n        signalSuccessfulInit();\n      })\n      .catch(err => {\n        flags = {};\n        signalFailedInit(err);\n      });\n  }\n\n  function initFromStateProvider(state) {\n    environment = state.environment;\n    ident.setContext(state.context);\n    flags = { ...state.flags };\n    utils.onNextTick(signalSuccessfulInit);\n  }\n\n  function updateFromStateProvider(state) {\n    if (state.context) {\n      ident.setContext(state.context);\n    }\n    if (state.flags) {\n      replaceAllFlags(state.flags); // don't wait for this Promise to be resolved\n    }\n  }\n\n  function signalSuccessfulInit() {\n    logger.info(messages.clientInitialized());\n    inited = true;\n    updateStreamingState();\n    initializationStateTracker.signalSuccess();\n  }\n\n  function signalFailedInit(err) {\n    initializationStateTracker.signalFailure(err);\n  }\n\n  function start() {\n    if (sendEvents) {\n      if (diagnosticsManager) {\n        diagnosticsManager.start();\n      }\n      events.start();\n    }\n  }\n\n  function close(onDone) {\n    if (closed) {\n      return utils.wrapPromiseCallback(Promise.resolve(), onDone);\n    }\n    const finishClose = () => {\n      closed = true;\n      flags = {};\n    };\n    const p = Promise.resolve()\n      .then(() => {\n        disconnectStream();\n        if (diagnosticsManager) {\n          diagnosticsManager.stop();\n        }\n        if (sendEvents) {\n          events.stop();\n          return events.flush();\n        }\n      })\n      .then(finishClose)\n      .catch(finishClose);\n    return utils.wrapPromiseCallback(p, onDone);\n  }\n\n  function getFlagsInternal() {\n    // used by Electron integration\n    return flags;\n  }\n\n  const client = {\n    waitForInitialization: () => initializationStateTracker.getInitializationPromise(),\n    waitUntilReady: () => initializationStateTracker.getReadyPromise(),\n    identify: identify,\n    getContext: getContext,\n    variation: variation,\n    variationDetail: variationDetail,\n    track: track,\n    on: on,\n    off: off,\n    setStreaming: setStreaming,\n    flush: flush,\n    allFlags: allFlags,\n    close: close,\n  };\n\n  return {\n    client: client, // The client object containing all public methods.\n    options: options, // The validated configuration object, including all defaults.\n    emitter: emitter, // The event emitter which can be used to log errors or trigger events.\n    ident: ident, // The Identity object that manages the current context.\n    logger: logger, // The logging abstraction.\n    requestor: requestor, // The Requestor object.\n    start: start, // Starts the client once the environment is ready.\n    enqueueEvent: enqueueEvent, // Puts an analytics event in the queue, if event sending is enabled.\n    getFlagsInternal: getFlagsInternal, // Returns flag data structure with all details.\n    getEnvironmentId: () => environment, // Gets the environment ID (this may have changed since initialization, if we have a state provider)\n    internalChangeEventName: internalChangeEvent, // This event is triggered whenever we have new flag state.\n  };\n}\n\nmodule.exports = {\n  initialize,\n  commonBasicLogger,\n  errors,\n  messages,\n  utils,\n  getContextKeys,\n};\n", "const { commonBasicLogger } = require('launchdarkly-js-sdk-common');\n\nfunction basicLogger(options) {\n  return commonBasicLogger({ destination: console.log, ...options });\n}\n\nmodule.exports = {\n  basicLogger,\n};\n", "function isSyncXhrSupported() {\n  // This is temporary logic to disable synchronous XHR in Chrome 73 and above. In all other browsers,\n  // we will assume it is supported. See https://github.com/launchdarkly/js-client-sdk/issues/147\n  const userAgent = window.navigator && window.navigator.userAgent;\n  if (userAgent) {\n    const chromeMatch = userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    if (chromeMatch) {\n      const version = parseInt(chromeMatch[2], 10);\n      return version < 73;\n    }\n  }\n  return true;\n}\n\nconst emptyResult = { promise: Promise.resolve({ status: 200, header: () => null, body: null }) };\n\nexport default function newHttpRequest(method, url, headers, body, pageIsClosing) {\n  if (pageIsClosing) {\n    // When the page is about to close, we have to use synchronous XHR (until we migrate to sendBeacon).\n    // But not all browsers support this.\n    if (!isSyncXhrSupported()) {\n      return emptyResult;\n      // Note that we return a fake success response, because we don't want the request to be retried in this case.\n    }\n  }\n\n  const xhr = new window.XMLHttpRequest();\n  xhr.open(method, url, !pageIsClosing);\n  for (const key in headers || {}) {\n    if (Object.prototype.hasOwnProperty.call(headers, key)) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  }\n  if (pageIsClosing) {\n    xhr.send(body); // We specified synchronous mode when we called xhr.open\n    return emptyResult; // Again, we never want a request to be retried in this case, so we must say it succeeded.\n  } else {\n    let cancelled;\n    const p = new Promise((resolve, reject) => {\n      xhr.addEventListener('load', () => {\n        if (cancelled) {\n          return;\n        }\n        resolve({\n          status: xhr.status,\n          header: (key) => xhr.getResponseHeader(key),\n          body: xhr.responseText,\n        });\n      });\n      xhr.addEventListener('error', () => {\n        if (cancelled) {\n          return;\n        }\n        reject(new Error());\n      });\n      xhr.send(body);\n    });\n    const cancel = () => {\n      cancelled = true;\n      xhr.abort();\n    };\n    return { promise: p, cancel: cancel };\n  }\n}\n", "'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n", "import escapeStringRegexp from 'escape-string-regexp';\n\nexport function doesUrlMatch(matcher, href, search, hash) {\n  const keepHash = (matcher.kind === 'substring' || matcher.kind === 'regex') && hash.includes('/');\n  const canonicalUrl = (keepHash ? href : href.replace(hash, '')).replace(search, '');\n\n  let regex;\n  let testUrl;\n\n  switch (matcher.kind) {\n    case 'exact':\n      testUrl = href;\n      regex = new RegExp('^' + escapeStringRegexp(matcher.url) + '/?$');\n      break;\n    case 'canonical':\n      testUrl = canonicalUrl;\n      regex = new RegExp('^' + escapeStringRegexp(matcher.url) + '/?$');\n      break;\n    case 'substring':\n      testUrl = canonicalUrl;\n      regex = new RegExp('.*' + escapeStringRegexp(matcher.substring) + '.*$');\n      break;\n    case 'regex':\n      testUrl = canonicalUrl;\n      regex = new RegExp(matcher.pattern);\n      break;\n    default:\n      return false;\n  }\n  return regex.test(testUrl);\n}\n\nfunction findGoalsForClick(event, clickGoals) {\n  const matches = [];\n\n  for (let i = 0; i < clickGoals.length; i++) {\n    let target = event.target;\n    const goal = clickGoals[i];\n    const selector = goal.selector;\n    const elements = document.querySelectorAll(selector);\n    while (target && elements.length > 0) {\n      for (let j = 0; j < elements.length; j++) {\n        if (target === elements[j]) {\n          matches.push(goal);\n        }\n      }\n      target = target.parentNode;\n    }\n  }\n\n  return matches;\n}\n\nexport default function GoalTracker(goals, onEvent) {\n  const tracker = {};\n  let listenerFn = null;\n\n  const clickGoals = [];\n\n  for (let i = 0; i < goals.length; i++) {\n    const goal = goals[i];\n    const urls = goal.urls || [];\n\n    for (let j = 0; j < urls.length; j++) {\n      if (doesUrlMatch(urls[j], window.location.href, window.location.search, window.location.hash)) {\n        if (goal.kind === 'pageview') {\n          onEvent('pageview', goal);\n        } else {\n          clickGoals.push(goal);\n          onEvent('click_pageview', goal);\n        }\n        break;\n      }\n    }\n  }\n\n  if (clickGoals.length > 0) {\n    listenerFn = function (event) {\n      const goals = findGoalsForClick(event, clickGoals);\n      for (let i = 0; i < goals.length; i++) {\n        onEvent('click', goals[i]);\n      }\n    };\n\n    document.addEventListener('click', listenerFn);\n  }\n\n  tracker.dispose = function () {\n    document.removeEventListener('click', listenerFn);\n  };\n\n  return tracker;\n}\n", "import * as common from 'launchdarkly-js-sdk-common';\nimport GoalTracker from './GoalTracker';\n\nconst locationWatcherInterval = 300;\n\nexport default function GoalManager(clientVars, readyCallback) {\n  let goals;\n  let goalTracker;\n\n  const ret = {};\n\n  function getGoalsPath() {\n    return '/sdk/goals/' + clientVars.getEnvironmentId();\n  }\n\n  function refreshGoalTracker() {\n    if (goalTracker) {\n      goalTracker.dispose();\n    }\n    if (goals && goals.length) {\n      goalTracker = GoalTracker(goals, sendGoalEvent);\n    }\n  }\n\n  function sendGoalEvent(kind, goal) {\n    const context = clientVars.ident.getContext();\n    const event = {\n      kind: kind,\n      key: goal.key,\n      data: null,\n      url: window.location.href,\n      creationDate: new Date().getTime(),\n      context: context,\n    };\n\n    if (kind === 'click') {\n      event.selector = goal.selector;\n    }\n\n    return clientVars.enqueueEvent(event);\n  }\n\n  function watchLocation(interval, callback) {\n    let previousUrl = window.location.href;\n    let currentUrl;\n\n    function checkUrl() {\n      currentUrl = window.location.href;\n\n      if (currentUrl !== previousUrl) {\n        previousUrl = currentUrl;\n        callback();\n      }\n    }\n\n    function poll(fn, interval) {\n      fn();\n      setTimeout(() => {\n        poll(fn, interval);\n      }, interval);\n    }\n\n    poll(checkUrl, interval);\n\n    if (window.history && window.history.pushState) {\n      window.addEventListener('popstate', checkUrl);\n    } else {\n      window.addEventListener('hashchange', checkUrl);\n    }\n  }\n\n  clientVars.requestor\n    .fetchJSON(getGoalsPath())\n    .then((g) => {\n      if (g && g.length > 0) {\n        goals = g;\n        goalTracker = GoalTracker(goals, sendGoalEvent);\n        watchLocation(locationWatcherInterval, refreshGoalTracker);\n      }\n      readyCallback();\n    })\n    .catch((err) => {\n      clientVars.emitter.maybeReportError(\n        new common.errors.LDUnexpectedResponseError('Error fetching goals: ' + (err && err.message) ? err.message : err)\n      );\n      readyCallback();\n    });\n\n  return ret;\n}\n", "import * as common from 'launchdarkly-js-sdk-common';\nimport * as importBasicLogger from './basicLogger';\nimport browserPlatform from './browserPlatform';\nimport GoalManager from './GoalManager';\n\nconst goalsEvent = 'goalsReady';\nconst extraOptionDefs = {\n  fetchGoals: { default: true },\n  hash: { type: 'string' },\n  eventProcessor: { type: 'object' }, // used only in tests\n  eventUrlTransformer: { type: 'function' },\n  disableSyncEventPost: { default: false },\n};\n\n// Pass our platform object to the common code to create the browser version of the client\nexport function initialize(env, user, options = {}) {\n  const platform = browserPlatform(options);\n  const clientVars = common.initialize(env, user, options, platform, extraOptionDefs);\n\n  const client = clientVars.client;\n  const validatedOptions = clientVars.options;\n  const emitter = clientVars.emitter;\n\n  const goalsPromise = new Promise((resolve) => {\n    const onGoals = emitter.on(goalsEvent, () => {\n      emitter.off(goalsEvent, onGoals);\n      resolve();\n    });\n  });\n  client.waitUntilGoalsReady = () => goalsPromise;\n\n  if (validatedOptions.fetchGoals) {\n    GoalManager(clientVars, () => emitter.emit(goalsEvent));\n    // Don't need to save a reference to the GoalManager - its constructor takes care of setting\n    // up the necessary event wiring\n  } else {\n    emitter.emit(goalsEvent);\n  }\n\n  if (document.readyState !== 'complete') {\n    window.addEventListener('load', clientVars.start);\n  } else {\n    clientVars.start();\n  }\n\n  const syncFlush = () => {\n    // Synchronous events are not available in all browsers, but where they\n    // are we should attempt to use them. This increases the chance of the events\n    // being delivered.\n    platform.synchronousFlush = true;\n    client.flush().catch(() => {});\n    platform.synchronousFlush = false;\n  };\n\n  // When the visibility of the page changes to hidden we want to flush any pending events.\n  //\n  // This is handled with visibility, instead of beforeunload/unload\n  // because those events are not compatible with the bfcache and are unlikely\n  // to be called in many situations. For more information see: https://developer.chrome.com/blog/page-lifecycle-api/\n  //\n  // Redundancy is included by using both the visibilitychange handler as well as\n  // pagehide, because different browsers, and versions have different bugs with each.\n  // This also may provide more opportunity for the events to get flushed.\n  //\n  const handleVisibilityChange = () => {\n    if (document.visibilityState === 'hidden') {\n      syncFlush();\n    }\n  };\n\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n  window.addEventListener('pagehide', syncFlush);\n\n  return client;\n}\n\nexport const basicLogger = importBasicLogger.basicLogger;\n\nexport const createConsoleLogger = common.createConsoleLogger;\n\nexport const version = VERSION;\n\nfunction deprecatedInitialize(env, user, options = {}) {\n  console && console.warn && console.warn(common.messages.deprecated('default export', 'named LDClient export')); // eslint-disable-line no-console\n  return initialize(env, user, options);\n}\n\nexport default { initialize: deprecatedInitialize, version };\n", "import newHttpRequest from './httpRequest';\n\nexport default function makeBrowserPlatform(options) {\n  const ret = {\n    userAgentHeaderName: 'X-LaunchDarkly-User-Agent',\n  };\n\n  ret.synchronousFlush = false; // this will be set to true by index.js if the page is hidden\n\n  // XMLHttpRequest may not exist if we're running in a server-side rendering context\n  if (window.XMLHttpRequest) {\n    const disableSyncFlush = options && options.disableSyncEventPost;\n    ret.httpRequest = (method, url, headers, body) => {\n      const syncFlush = ret.synchronousFlush & !disableSyncFlush;\n      ret.synchronousFlush = false;\n      return newHttpRequest(method, url, headers, body, syncFlush);\n    };\n  }\n\n  let hasCors;\n  ret.httpAllowsPost = () => {\n    // We compute this lazily because calling XMLHttpRequest() at initialization time can disrupt tests\n    if (hasCors === undefined) {\n      hasCors = window.XMLHttpRequest ? 'withCredentials' in new window.XMLHttpRequest() : false;\n    }\n    return hasCors;\n  };\n\n  // Image-based mechanism for sending events if POST isn't available\n  ret.httpFallbackPing = (url) => {\n    const img = new window.Image();\n    img.src = url;\n  };\n\n  const eventUrlTransformer = options && options.eventUrlTransformer;\n  ret.getCurrentUrl = () => (eventUrlTransformer ? eventUrlTransformer(window.location.href) : window.location.href);\n\n  ret.isDoNotTrack = () => {\n    let flag;\n    if (window.navigator && window.navigator.doNotTrack !== undefined) {\n      flag = window.navigator.doNotTrack; // FF, Chrome\n    } else if (window.navigator && window.navigator.msDoNotTrack !== undefined) {\n      flag = window.navigator.msDoNotTrack; // IE 9/10\n    } else {\n      flag = window.doNotTrack; // IE 11+, Safari\n    }\n    return flag === 1 || flag === true || flag === '1' || flag === 'yes';\n  };\n\n  try {\n    if (window.localStorage) {\n      ret.localStorage = {\n        get: (key) =>\n          new Promise((resolve) => {\n            resolve(window.localStorage.getItem(key));\n          }),\n        set: (key, value) =>\n          new Promise((resolve) => {\n            window.localStorage.setItem(key, value);\n            resolve();\n          }),\n        clear: (key) =>\n          new Promise((resolve) => {\n            window.localStorage.removeItem(key);\n            resolve();\n          }),\n      };\n    }\n  } catch (e) {\n    // In some browsers (such as Chrome), even looking at window.localStorage at all will cause a\n    // security error if the feature is disabled.\n    ret.localStorage = null;\n  }\n\n  // The browser built-in EventSource implementations do not support setting the method used for\n  // the request. When useReport is true, we ensure sending the user in the body of a REPORT request\n  // rather than in the URL path. If a polyfill for EventSource that supports setting the request\n  // method is provided (currently, launchdarkly-eventsource is the only polyfill that both supports\n  // it and gives us a way to *know* that it supports it), we use the polyfill to connect to a flag\n  // stream that will provide evaluated flags for the specific user. Otherwise, when useReport is\n  // true, we fall back to a generic  'ping' stream that informs the SDK to make a separate REPORT\n  // request for the user's flag evaluations whenever the flag definitions have been updated.\n  let eventSourceConstructor;\n  const useReport = options && options.useReport;\n  if (\n    useReport &&\n    typeof window.EventSourcePolyfill === 'function' &&\n    window.EventSourcePolyfill.supportedOptions &&\n    window.EventSourcePolyfill.supportedOptions.method\n  ) {\n    ret.eventSourceAllowsReport = true;\n    eventSourceConstructor = window.EventSourcePolyfill;\n  } else {\n    ret.eventSourceAllowsReport = false;\n    eventSourceConstructor = window.EventSource;\n  }\n\n  // If EventSource does not exist, the absence of eventSourceFactory will make us not try to open streams\n  if (window.EventSource) {\n    const timeoutMillis = 300000; // this is only used by polyfills - see below\n\n    ret.eventSourceFactory = (url, options) => {\n      // The standard EventSource constructor doesn't take any options, just a URL. However, some\n      // EventSource polyfills allow us to specify a timeout interval, and in some cases they will\n      // default to a too-short timeout if we don't specify one. So, here, we are setting the\n      // timeout properties that are used by several popular polyfills.\n      // Also, the skipDefaultHeaders property (if supported) tells the polyfill not to add the\n      // Cache-Control header that can cause CORS problems in browsers.\n      // See: https://github.com/launchdarkly/js-eventsource\n      const defaultOptions = {\n        heartbeatTimeout: timeoutMillis,\n        silentTimeout: timeoutMillis,\n        skipDefaultHeaders: true,\n      };\n\n      const esOptions = { ...defaultOptions, ...options };\n\n      return new eventSourceConstructor(url, esOptions);\n    };\n\n    ret.eventSourceIsActive = (es) =>\n      es.readyState === window.EventSource.OPEN || es.readyState === window.EventSource.CONNECTING;\n  }\n\n  ret.userAgent = 'JSClient';\n  ret.version = VERSION;\n\n  ret.diagnosticSdkData = {\n    name: 'js-client-sdk',\n    version: VERSION,\n  };\n\n  ret.diagnosticPlatformData = {\n    name: 'JS',\n  };\n\n  ret.diagnosticUseCombinedEvent = true; // the browser SDK uses the \"diagnostic-combined\" event format\n\n  return ret;\n}\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsAstral = '[' + rsAstralRange + ']',\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',\n  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,\n  rsUpper + '+' + rsOptUpperContr,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 'ss'\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\n/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = camelCase;\n", null, "{\n  \"name\": \"launchdarkly-react-client-sdk\",\n  \"version\": \"3.0.6\",\n  \"description\": \"LaunchDarkly SDK for React\",\n  \"author\": \"LaunchDarkly <team@launchdarkly.com>\",\n  \"license\": \"Apache-2.0\",\n  \"keywords\": [\n    \"launchdarkly\",\n    \"launch\",\n    \"darkly\",\n    \"react\",\n    \"sdk\",\n    \"bindings\"\n  ],\n  \"main\": \"lib/index.js\",\n  \"types\": \"lib/index.d.ts\",\n  \"files\": [\n    \"lib\",\n    \"src\",\n    \"!**/*.test.*\",\n    \"!**/__snapshots__\"\n  ],\n  \"scripts\": {\n    \"test\": \"jest\",\n    \"test:junit\": \"jest --ci --reporters=default --reporters=jest-junit\",\n    \"build\": \"rimraf lib/* && tsc && mv lib/src/* lib && rimraf lib/package.json lib/src lib/*.test.*\",\n    \"lint\": \"tslint -p tsconfig.json 'src/**/*.ts*'\",\n    \"lint:all\": \"npm run lint\",\n    \"check-typescript\": \"tsc\",\n    \"prepublishOnly\": \"npm run build\",\n    \"prettier\": \"prettier --write 'src/*.@(js|ts|tsx|json|css)'\",\n    \"link-dev\": \"./link-dev.sh\",\n    \"check\": \"npm i && npm run prettier && npm run lint && tsc && npm run test\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/launchdarkly/react-client-sdk.git\"\n  },\n  \"homepage\": \"https://github.com/launchdarkly/react-client-sdk\",\n  \"devDependencies\": {\n    \"@testing-library/jest-dom\": \"^5.16.4\",\n    \"@testing-library/react\": \"^13.0.1\",\n    \"@types/hoist-non-react-statics\": \"^3.3.1\",\n    \"@types/jest\": \"^27.0.3\",\n    \"@types/lodash.camelcase\": \"^4.3.6\",\n    \"@types/prop-types\": \"^15.7.4\",\n    \"@types/react\": \"^18.0.3\",\n    \"@types/react-dom\": \"^18.0.0\",\n    \"@types/react-test-renderer\": \"^18.0.0\",\n    \"jest\": \"^27.4.4\",\n    \"jest-environment-jsdom\": \"^27.4.4\",\n    \"jest-environment-jsdom-global\": \"^3.0.0\",\n    \"jest-junit\": \"^13.0.0\",\n    \"prettier\": \"^1.18.2\",\n    \"prop-types\": \"^15.7.2\",\n    \"react\": \"^18.0.0\",\n    \"react-dom\": \"^18.0.0\",\n    \"react-test-renderer\": \"^18.0.0\",\n    \"rimraf\": \"^3.0.0\",\n    \"ts-jest\": \"^27.1.1\",\n    \"tslint\": \"^6.1.3\",\n    \"tslint-config-prettier\": \"^1.18.0\",\n    \"tslint-plugin-prettier\": \"^2.3.0\",\n    \"typescript\": \"^4.5.3\"\n  },\n  \"dependencies\": {\n    \"hoist-non-react-statics\": \"^3.3.2\",\n    \"launchdarkly-js-client-sdk\": \"^3.1.3\",\n    \"lodash.camelcase\": \"^4.3.0\"\n  },\n  \"peerDependencies\": {\n    \"react\": \"^16.6.3 || ^17.0.0 || ^18.0.0\",\n    \"react-dom\": \"^16.8.4 || ^17.0.0 || ^18.0.0\"\n  }\n}\n", null, null, null, null, null, null, null, null, null, null],
  "mappings": "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",
  "names": ["createCustomError", "name", "CustomError", "message", "code", "Error", "captureStackTrace", "this", "constructor", "prototype", "getLens", "b64", "len", "length", "validLen", "indexOf", "encodeChunk", "uint8", "start", "end", "tmp", "num", "output", "i", "push", "lookup", "join", "btoa", "s", "escaped", "unescape", "encodeURIComponent", "base64", "fromByteArray", "b", "charCodeAt", "base64URLEncode", "replace", "objectHasOwnProperty", "object", "Object", "hasOwnProperty", "call", "rng", "getRandomValues", "crypto", "bind", "msCrypto", "rnds8", "validate", "uuid", "REGEX", "test", "stringify", "arr", "offset", "arguments", "byteToHex", "toLowerCase", "TypeError", "parse", "v", "Uint8Array", "parseInt", "slice", "v35", "version", "hashfunc", "generateUUID", "value", "namespace", "buf", "str", "bytes", "set", "err", "DNS", "URL", "getOutputLength", "inputLength8", "safeAdd", "x", "y", "lsw", "md5cmn", "q", "a", "t", "cnt", "md5ff", "c", "d", "md5gg", "md5hh", "md5ii", "f", "z", "ROTL", "n", "errorString", "String", "JSON", "canonicalizeUrl", "url", "validateTagValue", "tagValue", "logger", "match", "allowedTagCharacters", "warn", "messages", "tagValueTooLong", "invalidTagValue", "validKind", "kind", "encodeKey", "key", "includes", "processEscapeCharacters", "getComponents", "reference", "startsWith", "substring", "split", "map", "component", "isLiteral", "compare", "aIsLiteral", "bIsLiteral", "bComponents", "aComponents", "literalToReference", "literal", "getContextKeys", "newHttpRequest", "method", "headers", "body", "pageIsClosing", "userAgent", "window", "navigator", "chromeMatch", "isSyncXhrSupported", "emptyResult", "xhr", "XMLHttpRequest", "open", "setRequestHeader", "send", "cancelled", "p", "Promise", "resolve", "reject", "addEventListener", "status", "header", "getResponseHeader", "responseText", "promise", "cancel", "abort", "doesUrlMatch", "matcher", "href", "search", "hash", "regex", "testUrl", "canonicalUrl", "RegExp", "escapeStringRegexp", "pattern", "GoalTracker", "goals", "onEvent", "tracker", "listenerFn", "clickGoals", "goal", "urls", "j", "location", "event", "matches", "target", "selector", "elements", "document", "querySelectorAll", "parentNode", "dispose", "removeEventListener", "GoalManager", "clientVars", "readyCallback", "goalTracker", "refreshGoalTracker", "sendGoalEvent", "context", "ident", "getContext", "data", "creationDate", "Date", "getTime", "enqueueEvent", "requestor", "fetchJSON", "getEnvironmentId", "then", "g", "interval", "callback", "currentUrl", "previousUrl", "checkUrl", "poll", "fn", "setTimeout", "history", "pushState", "locationWatcherInterval", "catch", "emitter", "maybeReportError", "common", "LDUnexpectedResponseError", "initialize", "env", "user", "options", "platform", "hasCors", "ret", "userAgentHeaderName", "disableSyncFlush", "disableSyncEventPost", "httpRequest", "syncFlush", "synchronousFlush", "httpAllowsPost", "httpFallbackPing", "Image", "src", "eventSourceConstructor", "eventUrlTransformer", "getCurrentUrl", "isDoNotTrack", "flag", "doNotTrack", "msDoNotTrack", "localStorage", "get", "getItem", "setItem", "clear", "removeItem", "e", "useReport", "EventSourcePolyfill", "supportedOptions", "eventSourceAllowsReport", "EventSource", "timeoutMillis", "eventSourceFactory", "esOptions", "_objectSpread", "defaultOptions", "heartbeatTimeout", "silentTimeout", "skipDefaultHeaders", "eventSourceIsActive", "es", "readyState", "OPEN", "CONNECTING", "diagnosticSdkData", "diagnosticPlatformData", "diagnosticUseCombinedEvent", "extraOptionDefs", "client", "validatedOptions", "goalsPromise", "onGoals", "on", "goalsEvent", "off", "waitUntilGoalsReady", "fetchGoals", "emit", "flush", "visibilityState", "LDInvalidEnvironmentIdError", "LDInvalidUserError", "LDInvalidEventKeyError", "LDInvalidArgumentError", "LDFlagFetchError", "errors", "byteLength_1", "toByteArray_1", "fromByteArray_1", "revLookup", "Arr", "isArray", "keyList", "hasProp", "fastDeepEqual", "userAttrsToStringify", "utils", "_nodeId", "_clockseq", "_lastMSecs", "_lastNSecs", "v3", "v3$1", "v5", "v5$1", "logLevels", "loggers", "docLink", "validateLogger", "baseOptionDefs", "configuration", "getLDUserAgentString", "uuidv1", "getLDHeaders", "transformHeaders", "EventSender_1", "commonBasicLogger", "getContextKinds", "EventSummarizer_1", "attributeReference", "ContextFilter_1", "EventProcessor_1", "EventEmitter_1", "readyEvent", "successEvent", "failureEvent", "InitializationState", "PersistentFlagStore_1", "PersistentStorage_1", "appendUrlPath", "isHttpErrorRecoverable", "Stream_1", "promiseCoalescer_1", "jsonContentType", "Requestor_1", "Identity_1", "AnonymousContextProcessor_1", "diagnosticEvents", "SafeInspector_1", "onNextTick", "InspectorTypes", "InspectorManager_1", "checkContext", "InspectorManager", "changeEvent", "internalChangeEvent", "basicLogger", "createConsoleLogger", "index", "LDInvalidDataError", "lens", "placeHoldersLen", "curByte", "extraBytes", "parts", "maxChunkLength", "len2", "Array", "keys", "equal", "arrA", "arrB", "dateA", "dateB", "regexpA", "regexpB", "toString", "baseUrl", "path", "endsWith", "chunkEventsForUrl", "maxLength", "events", "allEvents", "allChunks", "chunk", "remainingSpace", "shift", "unshift", "clone", "obj", "deepEquals", "extend", "objects", "reduce", "acc", "cb", "sanitizeContext", "newContext", "forEach", "attr", "transformValuesToVersionedValues", "flags", "transformVersionedValuesToValues", "flagsState", "wrapPromiseCallback", "error", "substr", "msg", "input", "length32", "hexTab", "hex", "charAt", "olda", "oldb", "oldc", "oldd", "length8", "Uint32Array", "K", "H", "l", "N", "Math", "ceil", "M", "_i", "pow", "floor", "_i2", "W", "_t", "_t2", "T", "node", "clockseq", "seedBytes", "random", "msecs", "now", "nsecs", "dt", "tl", "tmh", "rnds", "formatFn", "destination", "toConsole", "methodName", "line", "console", "destinations", "prependLevelToMessage", "prefix", "minLevel", "level", "write", "levelIndex", "levelName", "args", "fullPrefix", "tempArgs", "log", "bootstrapInvalid", "bootstrapOldFormat", "clientInitialized", "clientNotReady", "debugEnqueueingEvent", "debugPostingDiagnosticEvent", "debugPostingEvents", "count", "debugStreamDelete", "debugStreamDeleteIgnored", "debugStreamPatch", "debugStreamPatchIgnored", "debugStreamPing", "debugPolling", "debugStreamPut", "deprecated", "oldName", "newName", "environmentNotFound", "environmentNotSpecified", "errorFetchingFlags", "eventCapacityExceeded", "eventWithoutContext", "httpErrorMessage", "retryMessage", "httpUnavailable", "identifyDisabled", "inspectorMethodError", "type", "invalidContentType", "contentType", "invalidData", "invalidInspector", "invalidKey", "invalidContext", "localStorageUnavailable", "networkError", "optionBelowMinimum", "minimum", "streamClosing", "streamConnecting", "streamError", "streamReconnectDelay", "unknownCustomEventKey", "unknownOption", "contextNotSpecified", "unrecoverableStreamError", "wrongOptionType", "expectedType", "actualType", "wrongOptionTypeBoolean", "require$$0", "default", "streamUrl", "eventsUrl", "sendEvents", "streaming", "sendLDHeaders", "requestHeaderTransform", "sendEventsOnlyForVariation", "evaluationReasons", "eventCapacity", "flushInterval", "samplingInterval", "allAttributesPrivate", "privateAttributes", "bootstrap", "diagnosticRecordingInterval", "diagnosticOptOut", "wrapperName", "wrapperVersion", "stateProvider", "application", "validator", "validated", "id", "inspectors", "optionDefs", "deprecatedOptions", "reportArgumentError", "config", "opts", "typeDescForValue", "optionDef", "allowedTypes", "getTags", "tags", "h", "tagKeys", "sort", "flattened", "item", "concat", "v1", "require$$1", "environmentId", "imageUrlPath", "baseHeaders", "sender", "sendChunk", "isDiagnostic", "usePost", "jsonBody", "payloadId", "doPostRequest", "canRetry", "result", "dateStr", "time", "serverTime", "canPost", "chunks", "results", "all", "allowLegacyKey", "kindValid", "keyValid", "kinds", "filter", "every", "contextKey", "entries", "getCanonicalKey", "startDate", "endDate", "counters", "contextKinds", "summarizeEvent", "counterKey", "variation", "counterVal", "Set", "contextKeys", "add", "getSummary", "flagsOut", "empty", "values", "counterOut", "unknown", "features", "clearSummary", "cloneExcluding", "references", "stack", "cloned", "excluded", "ptr", "source", "parent", "visited", "pop", "some", "protectedAttributes", "legacyTopLevelCopyAttributes", "filterSingleKind", "AttributeReference", "_meta", "protectedAttr", "redactedAttributes", "anonymous", "filtered", "custom", "privateAttributeNames", "filteredContext", "diagnosticsAccumulator", "processor", "eventSender", "EventSender", "mainEventsUrl", "summarizer", "EventSummarizer", "contextFilter", "ContextFilter", "flushTimer", "queue", "lastKnownPastTime", "disabled", "exceededCapacity", "shouldSampleEvent", "makeOutputEvent", "addToOutbox", "incrementDroppedEvents", "enqueue", "addFullEvent", "addDebugEvent", "trackEvents", "debugEventsUntilDate", "debugEvent", "eventsToSend", "summary", "setEventsInLastBatch", "debug", "responses", "responseInfo", "flushTick", "stop", "clearTimeout", "handler", "copiedHandlers", "apply", "getEvents", "getEventListenerCount", "eventEmitter", "succeeded", "failed", "failureValue", "initializationPromise", "readyPromise", "onReady", "getInitializationPromise", "onSuccess", "onFailure", "getReadyPromise", "signalSuccess", "signalFailure", "storage", "environment", "store", "getFlagsKey", "loadFlags", "dataStr", "schema", "$schema", "ex", "clearFlags", "saveFlags", "localStorageProvider", "loggedError", "logError", "isEnabled", "undefined", "require$$2", "stream", "evalUrlPrefix", "withReasons", "baseReconnectDelay", "connectionAttemptStartTime", "firstConnectionErrorLogged", "reconnectTimeoutReference", "handlers", "retryCount", "getNextRetryDelay", "delay", "computedDelayMillis", "backoff", "trunc", "handleError", "closeConnection", "logConnectionResult", "tryConnect", "openConnection", "query", "readTimeoutMillis", "info", "onerror", "onopen", "close", "success", "recordStreamInit", "connect", "newHash", "newHandlers", "disconnect", "isConnected", "finallyFn", "currentPromise", "currentCancelFn", "finalResolve", "finalReject", "coalescer", "cancelFn", "resultPromise", "activeRequests", "endpoint", "promiseCoalescer", "req", "statusText", "addPromise", "fetchFlagSettings", "initialContext", "onChange", "setContext", "persistentStorage", "getContextKeyIdString", "processSingleKindContext", "cachedId", "processContext", "processedContext", "DiagnosticId", "sdkKey", "diagnosticId", "sdkKeySuffix", "DiagnosticsAccumulator", "startTime", "dataSinceDate", "droppedEvents", "eventsInLastBatch", "streamInits", "reset", "getProps", "setProps", "props", "timestamp", "durationMillis", "DiagnosticsManager", "accumulator", "combinedMode", "localStorageKey", "diagnosticEventsUrl", "periodicInterval", "eventSentTime", "periodicTimer", "streamingEnabled", "manager", "makeInitProperties", "sdk", "makeSdkData", "makeConfigData", "sendDiagnosticEvent", "sendPeriodicEvent", "currentTime", "createPeriodicEventAndReset", "saveProperties", "sdkData", "customBaseURI", "customStreamURI", "customEventsURI", "eventsCapacity", "eventsFlushIntervalMillis", "reconnectTimeMillis", "streamingDisabled", "diagnosticRecordingIntervalMillis", "usingSecureMode", "bootstrapMode", "fetchGoalsDisabled", "localStorageAvailable", "nextEventTime", "timeNow", "setStreaming", "enabled", "inspector", "errorLogged", "wrapper", "flagUsed", "flagDetailsChanged", "flagDetailChanged", "clientIdentityChanged", "freeze", "inspectorsByType", "safeInspectors", "SafeInspector", "safeInspector", "hasListeners", "onFlagUsed", "flagKey", "detail", "onFlags", "onFlagChanged", "onIdentityChanged", "specifiedOptions", "createLogger", "EventEmitter", "initializationStateTracker", "InitializationStateTracker", "inspectorManager", "PersistentStorage", "diagnosticsEnabled", "diagnostics", "diagnosticsManager", "Stream", "eventProcessor", "EventProcessor", "Requestor", "useLocalStorage", "streamActive", "subscribedToChangeEvents", "streamForcedState", "inited", "closed", "firstEvent", "Identity", "anonymousContextProcessor", "AnonymousContextProcessor", "persistentFlagStore", "PersistentFlagStore", "notifyInspectionFlagChanged", "newFlag", "getFlagDetail", "notifyInspectionFlagsChanged", "cur", "sendFlagEvent", "defaultValue", "includeReason", "variationIndex", "flagVersion", "trackReason", "reason", "verifyContext", "variationDetailInternal", "sendEvent", "includeReasonInEvent", "isAllFlags", "deleted", "errorKind", "connectStream", "tryParseData", "jsonData", "ping", "contextAtTimeOfPingEvent", "requestedFlags", "replaceAllFlags", "put", "patch", "oldFlag", "mods", "newDetail", "previous", "current", "handleFlagChanges", "delete", "disconnectStream", "newFlags", "changes", "changeEventParams", "updateStreamingState", "shouldBeStreaming", "isChangeEventKey", "toUpperCase", "metadataKey", "validKey", "metadata", "state", "getInitialState", "initFromStateProvider", "validatedContext", "signalSuccessfulInit", "storedFlags", "signalFailedInit", "finishInit", "waitForInitialization", "waitUntilReady", "identify", "onDone", "clearFirst", "flagValueMap", "variationDetail", "track", "metricValue", "customEventFilter", "contextKind", "haveListeners", "newState", "allFlags", "finishClose", "getFlagsInternal", "internalChangeEventName", "string", "importBasicLogger", "Symbol", "options"]
}
